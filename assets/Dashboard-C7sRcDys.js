import{_ as Xt,c as et,m as st,q as it,v as N,C as Pn,D as dt,O as ci,P as ui,E as Sn,G as fa,J as pt,u as tt,a as lt,o as li,n as Ye,M as fi,w as nn,Q as Vn,B as da,L as Et,R as xt,y as ha,F as pa,x as pn,A as ga,z as G,S as ma,N as ya}from"./index-B1pglW-3.js";import{u as ba,r as va}from"./inputnumber.esm-BrxilQFz.js";import{s as Jt}from"./card.esm-CXI6cggM.js";import{I as xa}from"./IdeaTable-C9JJzKQk.js";import{R as wa,a as _a,k as Gt}from"./tag.esm-BIm13Dqa.js";import"./progressspinner.esm-Duz5nQXO.js";const Ma={class:"total-ideas-card surface-card p-3 border-round shadow-1 justify-content-center"},ka={class:"flex gap-3"},Ta={class:"flex align-items-center justify-content-center gap-2"},Ca={class:"text-center"},Sa={class:"text-3xl font-bold text-primary"},Aa={key:0,class:"growth-indicator mt-1 text-xs text-500"},$a={class:"status-badges-column"},Da=["onClick"],Na={class:"status-name text-xs"},Ea={class:"status-count text-xs font-semibold ml-auto"},Fa={__name:"TotalIdeasCard",props:{totalIdeas:{type:Number,required:!0},statusDistribution:{type:Object,required:!0},weeklyGrowth:{type:Number,default:0}},emits:["status-click"],setup(t){const e=t,n=et(()=>{const o={};return["Active","Under Review","Implemented"].forEach(u=>{e.statusDistribution[u]!==void 0&&(o[u]=e.statusDistribution[u])}),o}),r=o=>({Active:"Active","Under Review":"Review",Implemented:"Done",Archived:"Archived"})[o]||o,i=o=>({Active:"badge-active-mini","Under Review":"badge-review-mini",Implemented:"badge-implemented-mini",Archived:"badge-archived-mini"})[o]||"badge-active-mini",a=o=>({Active:"dot-active","Under Review":"dot-review",Implemented:"dot-implemented",Archived:"dot-archived"})[o]||"dot-active";return(o,s)=>(it(),st("div",Ma,[N("div",ka,[N("div",Ta,[N("div",Ca,[s[1]||(s[1]=N("div",{class:"text-xs text-500 mb-1"},"Total Ideas",-1)),N("div",Sa,dt(t.totalIdeas),1),t.weeklyGrowth?(it(),st("div",Aa,[s[0]||(s[0]=N("i",{class:"pi pi-arrow-up text-green-500 text-xs mr-1"},null,-1)),N("span",null,"+"+dt(t.weeklyGrowth)+"% this week",1)])):Pn("",!0)]),s[2]||(s[2]=N("i",{class:"pi pi-lightbulb text-2xl text-primary ml-2"},null,-1))]),s[3]||(s[3]=N("div",{class:"vertical-divider"},null,-1)),N("div",$a,[(it(!0),st(ci,null,ui(n.value,(u,c)=>(it(),st("div",{key:c,class:Sn(["mini-status-badge",i(c)]),onClick:l=>o.$emit("status-click",c)},[N("span",{class:Sn(["status-dot",a(c)])},null,2),N("span",Na,dt(r(c)),1),N("span",Ea,dt(u),1)],10,Da))),128))])])]))}},Ua=Xt(Fa,[["__scopeId","data-v-84552a44"]]),Ra={class:"flex gap-3 justify-content-center align-items-center h-full"},Ia={class:"metric-section text-center flex-1"},Oa={class:"metric-value"},za={class:"metric-subtitle"},La={class:"metric-section text-center flex-1"},Ya={class:"metric-value"},Ha=["title"],Pa={class:"metric-section text-center flex-1"},Va={class:"metric-value"},Ba={class:"metric-subtitle"},Wa={__name:"CombinedMetricsCard",props:{totalVotes:{type:Number,default:0},avgVotes:{type:[String,Number],default:"0"},topVotedVotes:{type:Number,default:0},topVotedTitle:{type:String,default:"N/A"},activePercentage:{type:Number,default:0},activeIdeas:{type:Number,default:0}},setup(t){return(e,n)=>(it(),fa(tt(Jt),{class:"combined-metrics-card h-full"},{content:pt(()=>[N("div",Ra,[N("div",Ia,[n[0]||(n[0]=N("div",{class:"metric-icon mb-2"},[N("i",{class:"pi pi-heart",style:{"font-size":"1.5rem",color:"#ef4444"}})],-1)),N("div",Oa,dt(t.totalVotes),1),n[1]||(n[1]=N("div",{class:"metric-label"},"Total Votes",-1)),N("div",za,dt(t.avgVotes)+"/idea",1)]),n[6]||(n[6]=N("div",{class:"vertical-divider"},null,-1)),N("div",La,[n[2]||(n[2]=N("div",{class:"metric-icon mb-2"},[N("i",{class:"pi pi-star-fill",style:{"font-size":"1.5rem",color:"#f59e0b"}})],-1)),N("div",Ya,dt(t.topVotedVotes),1),n[3]||(n[3]=N("div",{class:"metric-label"},"Top Voted",-1)),N("div",{class:"metric-subtitle",title:t.topVotedTitle},dt(t.topVotedTitle.length>15?t.topVotedTitle.substring(0,15)+"...":t.topVotedTitle),9,Ha)]),n[7]||(n[7]=N("div",{class:"vertical-divider"},null,-1)),N("div",Pa,[n[4]||(n[4]=N("div",{class:"metric-icon mb-2"},[N("i",{class:"pi pi-chart-pie",style:{"font-size":"1.5rem",color:"#10b981"}})],-1)),N("div",Va,dt(t.activePercentage)+"%",1),n[5]||(n[5]=N("div",{class:"metric-label"},"Active",-1)),N("div",Ba,dt(t.activeIdeas)+" ideas",1)])])]),_:1}))}},qa=Xt(Wa,[["__scopeId","data-v-170f0cb9"]]);function Fe(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xa(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bn(t){let e,n,r;t.length!==2?(e=Fe,n=(s,u)=>Fe(t(s),u),r=(s,u)=>t(s)-u):(e=t===Fe||t===Xa?t:Ka,n=t,r=t);function i(s,u,c=0,l=s.length){if(c<l){if(e(u,u)!==0)return l;do{const f=c+l>>>1;n(s[f],u)<0?c=f+1:l=f}while(c<l)}return c}function a(s,u,c=0,l=s.length){if(c<l){if(e(u,u)!==0)return l;do{const f=c+l>>>1;n(s[f],u)<=0?c=f+1:l=f}while(c<l)}return c}function o(s,u,c=0,l=s.length){const f=i(s,u,c,l-1);return f>c&&r(s[f-1],u)>-r(s[f],u)?f-1:f}return{left:i,center:o,right:a}}function Ka(){return 0}function Za(t){return t===null?NaN:+t}const Ga=Bn(Fe),Qa=Ga.right;Bn(Za).center;function Ja(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class fr extends Map{constructor(e,n=eo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dr(this,e))}has(e){return super.has(dr(this,e))}set(e,n){return super.set(ja(this,e),n)}delete(e){return super.delete(to(this,e))}}function dr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ja({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function to({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function eo(t){return t!==null&&typeof t=="object"?t.valueOf():t}const no=Math.sqrt(50),ro=Math.sqrt(10),io=Math.sqrt(2);function He(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=no?10:a>=ro?5:a>=io?2:1;let s,u,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),u=Math.round(e*c),s/c<t&&++s,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),u=Math.round(e/c),s*c<t&&++s,u*c>e&&--u),u<s&&.5<=n&&n<2?He(t,e,n*2):[s,u,c]}function ao(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?He(e,t,n):He(t,e,n);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)u[c]=(a-c)/-o;else for(let c=0;c<s;++c)u[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)u[c]=(i+c)/-o;else for(let c=0;c<s;++c)u[c]=(i+c)*o;return u}function An(t,e,n){return e=+e,t=+t,n=+n,He(t,e,n)[2]}function $n(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?An(e,t,n):An(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Dn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function hr(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function oo(t){return t}var gn=1,mn=2,Nn=3,pe=4,pr=1e-6;function so(t){return"translate("+t+",0)"}function co(t){return"translate(0,"+t+")"}function uo(t){return e=>+t(e)}function lo(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function fo(){return!this.__axis}function di(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===gn||t===pe?-1:1,l=t===pe||t===mn?"x":"y",f=t===gn||t===Nn?so:co;function d(h){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,n):oo),A=Math.max(a,0)+s,C=e.range(),g=+C[0]+u,m=+C[C.length-1]+u,b=(e.bandwidth?lo:uo)(e.copy(),u),T=h.selection?h.selection():h,w=T.selectAll(".domain").data([null]),E=T.selectAll(".tick").data(p,e).order(),I=E.exit(),F=E.enter().append("g").attr("class","tick"),M=E.select("line"),y=E.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(F),M=M.merge(F.append("line").attr("stroke","currentColor").attr(l+"2",c*a)),y=y.merge(F.append("text").attr("fill","currentColor").attr(l,c*A).attr("dy",t===gn?"0em":t===Nn?"0.71em":"0.32em")),h!==T&&(w=w.transition(h),E=E.transition(h),M=M.transition(h),y=y.transition(h),I=I.transition(h).attr("opacity",pr).attr("transform",function(U){return isFinite(U=b(U))?f(U+u):this.getAttribute("transform")}),F.attr("opacity",pr).attr("transform",function(U){var _=this.parentNode.__axis;return f((_&&isFinite(_=_(U))?_:b(U))+u)})),I.remove(),w.attr("d",t===pe||t===mn?o?"M"+c*o+","+g+"H"+u+"V"+m+"H"+c*o:"M"+u+","+g+"V"+m:o?"M"+g+","+c*o+"V"+u+"H"+m+"V"+c*o:"M"+g+","+u+"H"+m),E.attr("opacity",1).attr("transform",function(U){return f(b(U)+u)}),M.attr(l+"2",c*a),y.attr(l,c*A).text(v),T.filter(fo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===mn?"start":t===pe?"end":"middle"),T.each(function(){this.__axis=b})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=o=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(u=+h,d):u},d}function gr(t){return di(Nn,t)}function mr(t){return di(pe,t)}var ho={value:()=>{}};function hi(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ue(n)}function Ue(t){this._=t}function po(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ue.prototype=hi.prototype={constructor:Ue,on:function(t,e){var n=this._,r=po(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=go(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=yr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=yr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ue(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function go(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function yr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ho,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var En="http://www.w3.org/1999/xhtml";const br={svg:"http://www.w3.org/2000/svg",xhtml:En,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),br.hasOwnProperty(e)?{space:br[e],local:t}:t}function mo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===En&&e.documentElement.namespaceURI===En?e.createElement(t):e.createElementNS(n,t)}}function yo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pi(t){var e=rn(t);return(e.local?yo:mo)(e)}function bo(){}function Wn(t){return t==null?bo:function(){return this.querySelector(t)}}function vo(t){typeof t!="function"&&(t=Wn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,c,l=0;l<o;++l)(u=a[l])&&(c=t.call(u,u.__data__,l,a))&&("__data__"in u&&(c.__data__=u.__data__),s[l]=c);return new ft(r,this._parents)}function xo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function wo(){return[]}function gi(t){return t==null?wo:function(){return this.querySelectorAll(t)}}function _o(t){return function(){return xo(t.apply(this,arguments))}}function Mo(t){typeof t=="function"?t=_o(t):t=gi(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,u,c=0;c<s;++c)(u=o[c])&&(r.push(t.call(u,u.__data__,c,o)),i.push(u));return new ft(r,i)}function mi(t){return function(){return this.matches(t)}}function yi(t){return function(e){return e.matches(t)}}var ko=Array.prototype.find;function To(t){return function(){return ko.call(this.children,t)}}function Co(){return this.firstElementChild}function So(t){return this.select(t==null?Co:To(typeof t=="function"?t:yi(t)))}var Ao=Array.prototype.filter;function $o(){return Array.from(this.children)}function Do(t){return function(){return Ao.call(this.children,t)}}function No(t){return this.selectAll(t==null?$o:Do(typeof t=="function"?t:yi(t)))}function Eo(t){typeof t!="function"&&(t=mi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&s.push(u);return new ft(r,this._parents)}function bi(t){return new Array(t.length)}function Fo(){return new ft(this._enter||this._groups.map(bi),this._parents)}function Pe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pe.prototype={constructor:Pe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Uo(t){return function(){return t}}function Ro(t,e,n,r,i,a){for(var o=0,s,u=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Pe(t,a[o]);for(;o<u;++o)(s=e[o])&&(i[o]=s)}function Io(t,e,n,r,i,a,o){var s,u,c=new Map,l=e.length,f=a.length,d=new Array(l),h;for(s=0;s<l;++s)(u=e[s])&&(d[s]=h=o.call(u,u.__data__,s,e)+"",c.has(h)?i[s]=u:c.set(h,u));for(s=0;s<f;++s)h=o.call(t,a[s],s,a)+"",(u=c.get(h))?(r[s]=u,u.__data__=a[s],c.delete(h)):n[s]=new Pe(t,a[s]);for(s=0;s<l;++s)(u=e[s])&&c.get(d[s])===u&&(i[s]=u)}function Oo(t){return t.__data__}function zo(t,e){if(!arguments.length)return Array.from(this,Oo);var n=e?Io:Ro,r=this._parents,i=this._groups;typeof t!="function"&&(t=Uo(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),c=0;c<a;++c){var l=r[c],f=i[c],d=f.length,h=Lo(t.call(l,l&&l.__data__,c,r)),p=h.length,v=s[c]=new Array(p),A=o[c]=new Array(p),C=u[c]=new Array(d);n(l,f,v,A,C,h,e);for(var g=0,m=0,b,T;g<p;++g)if(b=v[g]){for(g>=m&&(m=g+1);!(T=A[m])&&++m<p;);b._next=T||null}}return o=new ft(o,r),o._enter=s,o._exit=u,o}function Lo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yo(){return new ft(this._exit||this._groups.map(bi),this._parents)}function Ho(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Po(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var c=n[u],l=r[u],f=c.length,d=s[u]=new Array(f),h,p=0;p<f;++p)(h=c[p]||l[p])&&(d[p]=h);for(;u<i;++u)s[u]=n[u];return new ft(s,this._parents)}function Vo(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Bo(t){t||(t=Wo);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),c,l=0;l<s;++l)(c=o[l])&&(u[l]=c);u.sort(e)}return new ft(i,this._parents).order()}function Wo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function qo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Xo(){return Array.from(this)}function Ko(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Zo(){let t=0;for(const e of this)++t;return t}function Go(){return!this.node()}function Qo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Jo(t){return function(){this.removeAttribute(t)}}function jo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ts(t,e){return function(){this.setAttribute(t,e)}}function es(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ns(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function rs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function is(t,e){var n=rn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?jo:Jo:typeof e=="function"?n.local?rs:ns:n.local?es:ts)(n,e))}function vi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function as(t){return function(){this.style.removeProperty(t)}}function os(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ss(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function cs(t,e,n){return arguments.length>1?this.each((e==null?as:typeof e=="function"?ss:os)(t,e,n??"")):re(this.node(),t)}function re(t,e){return t.style.getPropertyValue(e)||vi(t).getComputedStyle(t,null).getPropertyValue(e)}function us(t){return function(){delete this[t]}}function ls(t,e){return function(){this[t]=e}}function fs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ds(t,e){return arguments.length>1?this.each((e==null?us:typeof e=="function"?fs:ls)(t,e)):this.node()[t]}function xi(t){return t.trim().split(/^|\s+/)}function qn(t){return t.classList||new wi(t)}function wi(t){this._node=t,this._names=xi(t.getAttribute("class")||"")}wi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _i(t,e){for(var n=qn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Mi(t,e){for(var n=qn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hs(t){return function(){_i(this,t)}}function ps(t){return function(){Mi(this,t)}}function gs(t,e){return function(){(e.apply(this,arguments)?_i:Mi)(this,t)}}function ms(t,e){var n=xi(t+"");if(arguments.length<2){for(var r=qn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?gs:e?hs:ps)(n,e))}function ys(){this.textContent=""}function bs(t){return function(){this.textContent=t}}function vs(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xs(t){return arguments.length?this.each(t==null?ys:(typeof t=="function"?vs:bs)(t)):this.node().textContent}function ws(){this.innerHTML=""}function _s(t){return function(){this.innerHTML=t}}function Ms(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ks(t){return arguments.length?this.each(t==null?ws:(typeof t=="function"?Ms:_s)(t)):this.node().innerHTML}function Ts(){this.nextSibling&&this.parentNode.appendChild(this)}function Cs(){return this.each(Ts)}function Ss(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function As(){return this.each(Ss)}function $s(t){var e=typeof t=="function"?t:pi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ds(){return null}function Ns(t,e){var n=typeof t=="function"?t:pi(t),r=e==null?Ds:typeof e=="function"?e:Wn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Es(){var t=this.parentNode;t&&t.removeChild(this)}function Fs(){return this.each(Es)}function Us(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Rs(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Is(t){return this.select(t?Rs:Us)}function Os(t){return arguments.length?this.property("__data__",t):this.node().__data__}function zs(t){return function(e){t.call(this,e,this.__data__)}}function Ls(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ys(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Hs(t,e,n){return function(){var r=this.__on,i,a=zs(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Ps(t,e,n){var r=Ls(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,l;u<c;++u)for(i=0,l=s[u];i<a;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value}return}for(s=e?Hs:Ys,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function ki(t,e,n){var r=vi(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Vs(t,e){return function(){return ki(this,t,e)}}function Bs(t,e){return function(){return ki(this,t,e.apply(this,arguments))}}function Ws(t,e){return this.each((typeof e=="function"?Bs:Vs)(t,e))}function*qs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Ti=[null];function ft(t,e){this._groups=t,this._parents=e}function ke(){return new ft([[document.documentElement]],Ti)}function Xs(){return this}ft.prototype=ke.prototype={constructor:ft,select:vo,selectAll:Mo,selectChild:So,selectChildren:No,filter:Eo,data:zo,enter:Fo,exit:Yo,join:Ho,merge:Po,selection:Xs,order:Vo,sort:Bo,call:qo,nodes:Xo,node:Ko,size:Zo,empty:Go,each:Qo,attr:is,style:cs,property:ds,classed:ms,text:xs,html:ks,raise:Cs,lower:As,append:$s,insert:Ns,remove:Fs,clone:Is,datum:Os,on:Ps,dispatch:Ws,[Symbol.iterator]:qs};function K(t){return typeof t=="string"?new ft([[document.querySelector(t)]],[document.documentElement]):new ft([[t]],Ti)}function an(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Xn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ue(){}var Vt=.7,ie=1/Vt,ee="\\s*([+-]?\\d+)\\s*",xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ks=/^#([0-9a-f]{3,8})$/,Zs=new RegExp(`^rgb\\(${ee},${ee},${ee}\\)$`),Gs=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),Qs=new RegExp(`^rgba\\(${ee},${ee},${ee},${xe}\\)$`),Js=new RegExp(`^rgba\\(${_t},${_t},${_t},${xe}\\)$`),js=new RegExp(`^hsl\\(${xe},${_t},${_t}\\)$`),tc=new RegExp(`^hsla\\(${xe},${_t},${_t},${xe}\\)$`),vr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};an(ue,Bt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xr,formatHex:xr,formatHex8:ec,formatHsl:nc,formatRgb:wr,toString:wr});function xr(){return this.rgb().formatHex()}function ec(){return this.rgb().formatHex8()}function nc(){return Si(this).formatHsl()}function wr(){return this.rgb().formatRgb()}function Bt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ks.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_r(e):n===3?new rt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ae(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ae(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zs.exec(t))?new rt(e[1],e[2],e[3],1):(e=Gs.exec(t))?new rt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qs.exec(t))?Ae(e[1],e[2],e[3],e[4]):(e=Js.exec(t))?Ae(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=js.exec(t))?Tr(e[1],e[2]/100,e[3]/100,1):(e=tc.exec(t))?Tr(e[1],e[2]/100,e[3]/100,e[4]):vr.hasOwnProperty(t)?_r(vr[t]):t==="transparent"?new rt(NaN,NaN,NaN,0):null}function _r(t){return new rt(t>>16&255,t>>8&255,t&255,1)}function Ae(t,e,n,r){return r<=0&&(t=e=n=NaN),new rt(t,e,n,r)}function Ci(t){return t instanceof ue||(t=Bt(t)),t?(t=t.rgb(),new rt(t.r,t.g,t.b,t.opacity)):new rt}function Ve(t,e,n,r){return arguments.length===1?Ci(t):new rt(t,e,n,r??1)}function rt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}an(rt,Ve,Xn(ue,{brighter(t){return t=t==null?ie:Math.pow(ie,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vt:Math.pow(Vt,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rt(Ht(this.r),Ht(this.g),Ht(this.b),Be(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mr,formatHex:Mr,formatHex8:rc,formatRgb:kr,toString:kr}));function Mr(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}`}function rc(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}${Yt((isNaN(this.opacity)?1:this.opacity)*255)}`}function kr(){const t=Be(this.opacity);return`${t===1?"rgb(":"rgba("}${Ht(this.r)}, ${Ht(this.g)}, ${Ht(this.b)}${t===1?")":`, ${t})`}`}function Be(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ht(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yt(t){return t=Ht(t),(t<16?"0":"")+t.toString(16)}function Tr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mt(t,e,n,r)}function Si(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);if(t instanceof ue||(t=Bt(t)),!t)return new mt;if(t instanceof mt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new mt(o,s,u,t.opacity)}function ic(t,e,n,r){return arguments.length===1?Si(t):new mt(t,e,n,r??1)}function mt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}an(mt,ic,Xn(ue,{brighter(t){return t=t==null?ie:Math.pow(ie,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vt:Math.pow(Vt,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new rt(yn(t>=240?t-240:t+120,i,r),yn(t,i,r),yn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new mt(Cr(this.h),$e(this.s),$e(this.l),Be(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Be(this.opacity);return`${t===1?"hsl(":"hsla("}${Cr(this.h)}, ${$e(this.s)*100}%, ${$e(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Cr(t){return t=(t||0)%360,t<0?t+360:t}function $e(t){return Math.max(0,Math.min(1,t||0))}function yn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ac=Math.PI/180,oc=180/Math.PI;var Ai=-.14861,Kn=1.78277,Zn=-.29227,on=-.90649,we=1.97294,Sr=we*on,Ar=we*Kn,$r=Kn*Zn-on*Ai;function sc(t){if(t instanceof Pt)return new Pt(t.h,t.s,t.l,t.opacity);t instanceof rt||(t=Ci(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=($r*r+Sr*e-Ar*n)/($r+Sr-Ar),a=r-i,o=(we*(n-i)-Zn*a)/on,s=Math.sqrt(o*o+a*a)/(we*i*(1-i)),u=s?Math.atan2(o,a)*oc-120:NaN;return new Pt(u<0?u+360:u,s,i,t.opacity)}function It(t,e,n,r){return arguments.length===1?sc(t):new Pt(t,e,n,r??1)}function Pt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}an(Pt,It,Xn(ue,{brighter(t){return t=t==null?ie:Math.pow(ie,t),new Pt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vt:Math.pow(Vt,t),new Pt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ac,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new rt(255*(e+n*(Ai*r+Kn*i)),255*(e+n*(Zn*r+on*i)),255*(e+n*(we*r)),this.opacity)}}));function cc(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function uc(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return cc((n-r/e)*e,o,i,a,s)}}const sn=t=>()=>t;function $i(t,e){return function(n){return t+n*e}}function lc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fc(t,e){var n=e-t;return n?$i(t,n>180||n<-180?n-360*Math.round(n/360):n):sn(isNaN(t)?e:t)}function dc(t){return(t=+t)==1?ne:function(e,n){return n-e?lc(e,n,t):sn(isNaN(e)?n:e)}}function ne(t,e){var n=e-t;return n?$i(t,n):sn(isNaN(t)?e:t)}const We=function t(e){var n=dc(e);function r(i,a){var o=n((i=Ve(i)).r,(a=Ve(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),c=ne(i.opacity,a.opacity);return function(l){return i.r=o(l),i.g=s(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=t,r}(1);function hc(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Ve(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=a(u),s+""}}}var pc=hc(uc);function gc(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function mc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yc(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Te(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function bc(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vc(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Te(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bn=new RegExp(Fn.source,"g");function xc(t){return function(){return t}}function wc(t){return function(e){return t(e)+""}}function Di(t,e){var n=Fn.lastIndex=bn.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Fn.exec(t))&&(i=bn.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:gt(r,i)})),n=bn.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?wc(u[0].x):xc(e):(e=u.length,function(c){for(var l=0,f;l<e;++l)s[(f=u[l]).i]=f.x(c);return s.join("")})}function Te(t,e){var n=typeof e,r;return e==null||n==="boolean"?sn(e):(n==="number"?gt:n==="string"?(r=Bt(e))?(e=r,We):Di:e instanceof Bt?We:e instanceof Date?bc:mc(e)?gc:Array.isArray(e)?yc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vc:gt)(t,e)}function Ni(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Dr=180/Math.PI,Un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ei(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Dr,skewX:Math.atan(u)*Dr,scaleX:o,scaleY:s}}var De;function _c(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Un:Ei(e.a,e.b,e.c,e.d,e.e,e.f)}function Mc(t){return t==null||(De||(De=document.createElementNS("http://www.w3.org/2000/svg","g")),De.setAttribute("transform",t),!(t=De.transform.baseVal.consolidate()))?Un:(t=t.matrix,Ei(t.a,t.b,t.c,t.d,t.e,t.f))}function Fi(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,l,f,d,h,p){if(c!==f||l!==d){var v=h.push("translate(",null,e,null,n);p.push({i:v-4,x:gt(c,f)},{i:v-2,x:gt(l,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}function o(c,l,f,d){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:gt(c,l)})):l&&f.push(i(f)+"rotate("+l+r)}function s(c,l,f,d){c!==l?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:gt(c,l)}):l&&f.push(i(f)+"skewX("+l+r)}function u(c,l,f,d,h,p){if(c!==f||l!==d){var v=h.push(i(h)+"scale(",null,",",null,")");p.push({i:v-4,x:gt(c,f)},{i:v-2,x:gt(l,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,l){var f=[],d=[];return c=t(c),l=t(l),a(c.translateX,c.translateY,l.translateX,l.translateY,f,d),o(c.rotate,l.rotate,f,d),s(c.skewX,l.skewX,f,d),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,f,d),c=l=null,function(h){for(var p=-1,v=d.length,A;++p<v;)f[(A=d[p]).i]=A.x(h);return f.join("")}}}var kc=Fi(_c,"px, ","px)","deg)"),Tc=Fi(Mc,", ",")",")");function Ui(t){return function e(n){n=+n;function r(i,a){var o=t((i=It(i)).h,(a=It(a)).h),s=ne(i.s,a.s),u=ne(i.l,a.l),c=ne(i.opacity,a.opacity);return function(l){return i.h=o(l),i.s=s(l),i.l=u(Math.pow(l,n)),i.opacity=c(l),i+""}}return r.gamma=e,r}(1)}Ui(fc);var Ri=Ui(ne),ae=0,ge=0,le=0,Ii=1e3,qe,me,Xe=0,Wt=0,cn=0,_e=typeof performance=="object"&&performance.now?performance:Date,Oi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gn(){return Wt||(Oi(Cc),Wt=_e.now()+cn)}function Cc(){Wt=0}function Ke(){this._call=this._time=this._next=null}Ke.prototype=zi.prototype={constructor:Ke,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Gn():+n)+(e==null?0:+e),!this._next&&me!==this&&(me?me._next=this:qe=this,me=this),this._call=t,this._time=n,Rn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rn())}};function zi(t,e,n){var r=new Ke;return r.restart(t,e,n),r}function Sc(){Gn(),++ae;for(var t=qe,e;t;)(e=Wt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ae}function Nr(){Wt=(Xe=_e.now())+cn,ae=ge=0;try{Sc()}finally{ae=0,$c(),Wt=0}}function Ac(){var t=_e.now(),e=t-Xe;e>Ii&&(cn-=e,Xe=t)}function $c(){for(var t,e=qe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qe=n);me=t,Rn(r)}function Rn(t){if(!ae){ge&&(ge=clearTimeout(ge));var e=t-Wt;e>24?(t<1/0&&(ge=setTimeout(Nr,t-_e.now()-cn)),le&&(le=clearInterval(le))):(le||(Xe=_e.now(),le=setInterval(Ac,Ii)),ae=1,Oi(Nr))}}function Er(t,e,n){var r=new Ke;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Dc=hi("start","end","cancel","interrupt"),Nc=[],Li=0,Fr=1,In=2,Re=3,Ur=4,On=5,Ie=6;function un(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Ec(t,n,{name:e,index:r,group:i,on:Dc,tween:Nc,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Li})}function Qn(t,e){var n=yt(t,e);if(n.state>Li)throw new Error("too late; already scheduled");return n}function Mt(t,e){var n=yt(t,e);if(n.state>Re)throw new Error("too late; already running");return n}function yt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ec(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=zi(a,0,n.time);function a(c){n.state=Fr,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var l,f,d,h;if(n.state!==Fr)return u();for(l in r)if(h=r[l],h.name===n.name){if(h.state===Re)return Er(o);h.state===Ur?(h.state=Ie,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[l]):+l<e&&(h.state=Ie,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[l])}if(Er(function(){n.state===Re&&(n.state=Ur,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=In,n.on.call("start",t,t.__data__,n.index,n.group),n.state===In){for(n.state=Re,i=new Array(d=n.tween.length),l=0,f=-1;l<d;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=On,1),f=-1,d=i.length;++f<d;)i[f].call(t,l);n.state===On&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ie,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Fc(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>In&&r.state<On,r.state=Ie,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Uc(t){return this.each(function(){Fc(this,t)})}function Rc(t,e){var n,r;return function(){var i=Mt(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ic(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Mt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}a.tween=i}}function Oc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=yt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Rc:Ic)(n,t,e))}function Jn(t,e,n){var r=t._id;return t.each(function(){var i=Mt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return yt(i,r).value[e]}}function Yi(t,e){var n;return(typeof e=="number"?gt:e instanceof Bt?We:(n=Bt(e))?(e=n,We):Di)(t,e)}function zc(t){return function(){this.removeAttribute(t)}}function Lc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yc(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Hc(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Pc(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function Vc(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function Bc(t,e){var n=rn(t),r=n==="transform"?Tc:Yi;return this.attrTween(t,typeof e=="function"?(n.local?Vc:Pc)(n,r,Jn(this,"attr."+t,e)):e==null?(n.local?Lc:zc)(n):(n.local?Hc:Yc)(n,r,e))}function Wc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function qc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Xc(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&qc(t,a)),n}return i._value=e,i}function Kc(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Wc(t,a)),n}return i._value=e,i}function Zc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=rn(t);return this.tween(n,(r.local?Xc:Kc)(r,e))}function Gc(t,e){return function(){Qn(this,t).delay=+e.apply(this,arguments)}}function Qc(t,e){return e=+e,function(){Qn(this,t).delay=e}}function Jc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gc:Qc)(e,t)):yt(this.node(),e).delay}function jc(t,e){return function(){Mt(this,t).duration=+e.apply(this,arguments)}}function tu(t,e){return e=+e,function(){Mt(this,t).duration=e}}function eu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?jc:tu)(e,t)):yt(this.node(),e).duration}function nu(t,e){if(typeof e!="function")throw new Error;return function(){Mt(this,t).ease=e}}function ru(t){var e=this._id;return arguments.length?this.each(nu(e,t)):yt(this.node(),e).ease}function iu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Mt(this,t).ease=n}}function au(t){if(typeof t!="function")throw new Error;return this.each(iu(this._id,t))}function ou(t){typeof t!="function"&&(t=mi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&s.push(u);return new At(r,this._parents,this._name,this._id)}function su(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],c=n[s],l=u.length,f=o[s]=new Array(l),d,h=0;h<l;++h)(d=u[h]||c[h])&&(f[h]=d);for(;s<r;++s)o[s]=e[s];return new At(o,this._parents,this._name,this._id)}function cu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function uu(t,e,n){var r,i,a=cu(e)?Qn:Mt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function lu(t,e){var n=this._id;return arguments.length<2?yt(this.node(),n).on.on(t):this.each(uu(n,t,e))}function fu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function du(){return this.on("end.remove",fu(this._id))}function hu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Wn(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,c=a[o]=new Array(u),l,f,d=0;d<u;++d)(l=s[d])&&(f=t.call(l,l.__data__,d,s))&&("__data__"in l&&(f.__data__=l.__data__),c[d]=f,un(c[d],e,n,d,c,yt(l,n)));return new At(a,this._parents,e,n)}function pu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=gi(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],c=u.length,l,f=0;f<c;++f)if(l=u[f]){for(var d=t.call(l,l.__data__,f,u),h,p=yt(l,n),v=0,A=d.length;v<A;++v)(h=d[v])&&un(h,e,n,v,d,p);a.push(d),o.push(l)}return new At(a,o,e,n)}var gu=ke.prototype.constructor;function mu(){return new gu(this._groups,this._parents)}function yu(t,e){var n,r,i;return function(){var a=re(this,t),o=(this.style.removeProperty(t),re(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Hi(t){return function(){this.style.removeProperty(t)}}function bu(t,e,n){var r,i=n+"",a;return function(){var o=re(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function vu(t,e,n){var r,i,a;return function(){var o=re(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),re(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function xu(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var u=Mt(this,t),c=u.on,l=u.value[a]==null?s||(s=Hi(e)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(o,i=l),u.on=r}}function wu(t,e,n){var r=(t+="")=="transform"?kc:Yi;return e==null?this.styleTween(t,yu(t,r)).on("end.style."+t,Hi(t)):typeof e=="function"?this.styleTween(t,vu(t,r,Jn(this,"style."+t,e))).each(xu(this._id,t)):this.styleTween(t,bu(t,r,e),n).on("end.style."+t,null)}function _u(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Mu(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_u(t,o,n)),r}return a._value=e,a}function ku(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Mu(t,e,n??""))}function Tu(t){return function(){this.textContent=t}}function Cu(t){return function(){var e=t(this);this.textContent=e??""}}function Su(t){return this.tween("text",typeof t=="function"?Cu(Jn(this,"text",t)):Tu(t==null?"":t+""))}function Au(t){return function(e){this.textContent=t.call(this,e)}}function $u(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Au(i)),e}return r._value=t,r}function Du(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,$u(t))}function Nu(){for(var t=this._name,e=this._id,n=Pi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,c=0;c<s;++c)if(u=o[c]){var l=yt(u,e);un(u,t,n,c,o,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new At(r,this._parents,t,n)}function Eu(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var c=Mt(this,r),l=c.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),c.on=e}),i===0&&a()})}var Fu=0;function At(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Pi(){return++Fu}var Tt=ke.prototype;At.prototype={constructor:At,select:hu,selectAll:pu,selectChild:Tt.selectChild,selectChildren:Tt.selectChildren,filter:ou,merge:su,selection:mu,transition:Nu,call:Tt.call,nodes:Tt.nodes,node:Tt.node,size:Tt.size,empty:Tt.empty,each:Tt.each,on:lu,attr:Bc,attrTween:Zc,style:wu,styleTween:ku,text:Su,textTween:Du,remove:du,tween:Oc,delay:Jc,duration:eu,ease:ru,easeVarying:au,end:Eu,[Symbol.iterator]:Tt[Symbol.iterator]};const Uu=t=>+t;function Ru(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Iu={time:null,delay:0,duration:250,ease:Ru};function Ou(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function zu(t){var e,n;t instanceof At?(e=t._id,t=t._name):(e=Pi(),(n=Iu).time=Gn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,c=0;c<s;++c)(u=o[c])&&un(u,t,e,c,o,n||Ou(u,e));return new At(r,this._parents,t,e)}ke.prototype.interrupt=Uc;ke.prototype.transition=zu;const zn=Math.PI,Ln=2*zn,Lt=1e-6,Lu=Ln-Lt;function Vi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Yu(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Vi;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Hu{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Vi:Yu(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=r-e,c=i-n,l=o-e,f=s-n,d=l*l+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Lt)if(!(Math.abs(f*u-c*l)>Lt)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-o,p=i-s,v=u*u+c*c,A=h*h+p*p,C=Math.sqrt(v),g=Math.sqrt(d),m=a*Math.tan((zn-Math.acos((v+d-A)/(2*C*g)))/2),b=m/g,T=m/C;Math.abs(b-1)>Lt&&this._append`L${e+b*l},${n+b*f}`,this._append`A${a},${a},0,0,${+(f*h>l*p)},${this._x1=e+T*u},${this._y1=n+T*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),c=e+s,l=n+u,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Lt||Math.abs(this._y1-l)>Lt)&&this._append`L${c},${l}`,r&&(d<0&&(d=d%Ln+Ln),d>Lu?this._append`A${r},${r},0,1,${f},${e-s},${n-u}A${r},${r},0,1,${f},${this._x1=c},${this._y1=l}`:d>Lt&&this._append`A${r},${r},0,${+(d>=zn)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Pu(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ze(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function oe(t){return t=Ze(Math.abs(t)),t?t[1]:NaN}function Vu(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Bu(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ge(t){if(!(e=Wu.exec(t)))throw new Error("invalid format: "+t);var e;return new jn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ge.prototype=jn.prototype;function jn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qu(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Bi;function Xu(t,e){var n=Ze(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Bi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ze(t,Math.max(0,e+a-1))[0]}function Rr(t,e){var n=Ze(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ir={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pu,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Rr(t*100,e),r:Rr,s:Xu,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Or(t){return t}var zr=Array.prototype.map,Lr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ku(t){var e=t.grouping===void 0||t.thousands===void 0?Or:Vu(zr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Or:Bu(zr.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Ge(f);var d=f.fill,h=f.align,p=f.sign,v=f.symbol,A=f.zero,C=f.width,g=f.comma,m=f.precision,b=f.trim,T=f.type;T==="n"?(g=!0,T="g"):Ir[T]||(m===void 0&&(m=12),b=!0,T="g"),(A||d==="0"&&h==="=")&&(A=!0,d="0",h="=");var w=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=v==="$"?r:/[%p]/.test(T)?o:"",I=Ir[T],F=/[defgprs%]/.test(T);m=m===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function M(y){var U=w,_=E,k,z,q;if(T==="c")_=I(y)+_,y="";else{y=+y;var Z=y<0||1/y<0;if(y=isNaN(y)?u:I(Math.abs(y),m),b&&(y=qu(y)),Z&&+y==0&&p!=="+"&&(Z=!1),U=(Z?p==="("?p:s:p==="-"||p==="("?"":p)+U,_=(T==="s"?Lr[8+Bi/3]:"")+_+(Z&&p==="("?")":""),F){for(k=-1,z=y.length;++k<z;)if(q=y.charCodeAt(k),48>q||q>57){_=(q===46?i+y.slice(k+1):y.slice(k))+_,y=y.slice(0,k);break}}}g&&!A&&(y=e(y,1/0));var D=U.length+y.length+_.length,S=D<C?new Array(C-D+1).join(d):"";switch(g&&A&&(y=e(S+y,S.length?C-_.length:1/0),S=""),h){case"<":y=U+y+_+S;break;case"=":y=U+S+y+_;break;case"^":y=S.slice(0,D=S.length>>1)+U+y+_+S.slice(D);break;default:y=S+U+y+_;break}return a(y)}return M.toString=function(){return f+""},M}function l(f,d){var h=c((f=Ge(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(oe(d)/3)))*3,v=Math.pow(10,-p),A=Lr[8+p/3];return function(C){return h(v*C)+A}}return{format:c,formatPrefix:l}}var Ne,Wi,qi;Zu({thousands:",",grouping:[3],currency:["$",""]});function Zu(t){return Ne=Ku(t),Wi=Ne.format,qi=Ne.formatPrefix,Ne}function Gu(t){return Math.max(0,-oe(Math.abs(t)))}function Qu(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oe(e)/3)))*3-oe(Math.abs(t)))}function Ju(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,oe(e)-oe(t))+1}function tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ju(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Yr=Symbol("implicit");function er(){var t=new fr,e=[],n=[],r=Yr;function i(a){let o=t.get(a);if(o===void 0){if(r!==Yr)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new fr;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return er(e,n).unknown(r)},tr.apply(i,arguments),i}function tl(t){return function(){return t}}function el(t){return+t}var Hr=[0,1];function Rt(t){return t}function Yn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tl(isNaN(e)?NaN:.5)}function nl(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rl(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Yn(i,r),a=n(o,a)):(r=Yn(r,i),a=n(a,o)),function(s){return a(r(s))}}function il(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Yn(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var u=Qa(t,s,1,r)-1;return a[u](i[u](s))}}function Xi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function al(){var t=Hr,e=Hr,n=Te,r,i,a,o=Rt,s,u,c;function l(){var d=Math.min(t.length,e.length);return o!==Rt&&(o=nl(t[0],t[d-1])),s=d>2?il:rl,u=c=null,f}function f(d){return d==null||isNaN(d=+d)?a:(u||(u=s(t.map(r),e,n)))(r(o(d)))}return f.invert=function(d){return o(i((c||(c=s(e,t.map(r),gt)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,el),l()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),l()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=Ni,l()},f.clamp=function(d){return arguments.length?(o=d?!0:Rt,l()):o!==Rt},f.interpolate=function(d){return arguments.length?(n=d,l()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return r=d,i=h,l()}}function Ki(){return al()(Rt,Rt)}function ol(t,e,n,r){var i=$n(t,e,n),a;switch(r=Ge(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Qu(i,o))&&(r.precision=a),qi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Ju(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Gu(i))&&(r.precision=a-(r.type==="%")*2);break}}return Wi(r)}function Zi(t){var e=t.domain;return t.ticks=function(n){var r=e();return ao(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ol(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u,c,l=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);l-- >0;){if(c=An(o,s,n),c===u)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;u=c}return t},t}function ln(){var t=Ki();return t.copy=function(){return Xi(t,ln())},tr.apply(t,arguments),Zi(t)}function sl(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}const vn=new Date,xn=new Date;function Q(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const u=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;let c;do u.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return u},i.filter=a=>Q(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(vn.setTime(+a),xn.setTime(+o),t(vn),t(xn),Math.floor(n(vn,xn))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Qe=Q(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qe.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Q(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qe);Qe.range;const Ct=1e3,ht=Ct*60,St=ht*60,$t=St*24,nr=$t*7,Pr=$t*30,wn=$t*365,jt=Q(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ct)},(t,e)=>(e-t)/Ct,t=>t.getUTCSeconds());jt.range;const rr=Q(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ct)},(t,e)=>{t.setTime(+t+e*ht)},(t,e)=>(e-t)/ht,t=>t.getMinutes());rr.range;const cl=Q(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ht)},(t,e)=>(e-t)/ht,t=>t.getUTCMinutes());cl.range;const ir=Q(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ct-t.getMinutes()*ht)},(t,e)=>{t.setTime(+t+e*St)},(t,e)=>(e-t)/St,t=>t.getHours());ir.range;const ul=Q(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*St)},(t,e)=>(e-t)/St,t=>t.getUTCHours());ul.range;const Ce=Q(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ht)/$t,t=>t.getDate()-1);Ce.range;const ar=Q(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$t,t=>t.getUTCDate()-1),ll=ar.range,fl=Q(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$t,t=>Math.floor(t/$t));fl.range;function Kt(t){return Q(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ht)/nr)}const fn=Kt(0),Je=Kt(1),dl=Kt(2),hl=Kt(3),se=Kt(4),pl=Kt(5),gl=Kt(6);fn.range;Je.range;dl.range;hl.range;se.range;pl.range;gl.range;function Zt(t){return Q(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nr)}const ve=Zt(0),je=Zt(1),ml=Zt(2),yl=Zt(3),ce=Zt(4),bl=Zt(5),vl=Zt(6),xl=ve.range;je.range;ml.range;yl.range;ce.range;bl.range;vl.range;const or=Q(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());or.range;const wl=Q(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),_l=wl.range,Dt=Q(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Q(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Dt.range;const qt=Q(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Q(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qt.range;function Ml(t,e,n,r,i,a){const o=[[jt,1,Ct],[jt,5,5*Ct],[jt,15,15*Ct],[jt,30,30*Ct],[a,1,ht],[a,5,5*ht],[a,15,15*ht],[a,30,30*ht],[i,1,St],[i,3,3*St],[i,6,6*St],[i,12,12*St],[r,1,$t],[r,2,2*$t],[n,1,nr],[e,1,Pr],[e,3,3*Pr],[t,1,wn]];function s(c,l,f){const d=l<c;d&&([c,l]=[l,c]);const h=f&&typeof f.range=="function"?f:u(c,l,f),p=h?h.range(c,+l+1):[];return d?p.reverse():p}function u(c,l,f){const d=Math.abs(l-c)/f,h=Bn(([,,A])=>A).right(o,d);if(h===o.length)return t.every($n(c/wn,l/wn,f));if(h===0)return Qe.every(Math.max($n(c,l,f),1));const[p,v]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(v)}return[s,u]}const[kl,Tl]=Ml(Dt,or,fn,Ce,ir,rr);function _n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Mn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fe(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Cl(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=de(i),l=he(i),f=de(a),d=he(a),h=de(o),p=he(o),v=de(s),A=he(s),C=de(u),g=he(u),m={a:Z,A:D,b:S,B:H,c:null,d:Kr,e:Kr,f:Zl,g:of,G:cf,H:ql,I:Xl,j:Kl,L:Gi,m:Gl,M:Ql,p:X,q:O,Q:Qr,s:Jr,S:Jl,u:jl,U:tf,V:ef,w:nf,W:rf,x:null,X:null,y:af,Y:sf,Z:uf,"%":Gr},b={a:R,A:W,b:J,B:kt,c:null,d:Zr,e:Zr,f:hf,g:Mf,G:Tf,H:lf,I:ff,j:df,L:Ji,m:pf,M:gf,p:bt,q:vt,Q:Qr,s:Jr,S:mf,u:yf,U:bf,V:vf,w:xf,W:wf,x:null,X:null,y:_f,Y:kf,Z:Cf,"%":Gr},T={a:M,A:y,b:U,B:_,c:k,d:qr,e:qr,f:Pl,g:Wr,G:Br,H:Xr,I:Xr,j:zl,L:Hl,m:Ol,M:Ll,p:F,q:Il,Q:Bl,s:Wl,S:Yl,u:Nl,U:El,V:Fl,w:Dl,W:Ul,x:z,X:q,y:Wr,Y:Br,Z:Rl,"%":Vl};m.x=w(n,m),m.X=w(r,m),m.c=w(e,m),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b);function w($,L){return function(Y){var x=[],at=-1,B=0,ct=$.length,ut,Ot,lr;for(Y instanceof Date||(Y=new Date(+Y));++at<ct;)$.charCodeAt(at)===37&&(x.push($.slice(B,at)),(Ot=Vr[ut=$.charAt(++at)])!=null?ut=$.charAt(++at):Ot=ut==="e"?" ":"0",(lr=L[ut])&&(ut=lr(Y,Ot)),x.push(ut),B=at+1);return x.push($.slice(B,at)),x.join("")}}function E($,L){return function(Y){var x=fe(1900,void 0,1),at=I(x,$,Y+="",0),B,ct;if(at!=Y.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(L&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(B=Mn(fe(x.y,0,1)),ct=B.getUTCDay(),B=ct>4||ct===0?je.ceil(B):je(B),B=ar.offset(B,(x.V-1)*7),x.y=B.getUTCFullYear(),x.m=B.getUTCMonth(),x.d=B.getUTCDate()+(x.w+6)%7):(B=_n(fe(x.y,0,1)),ct=B.getDay(),B=ct>4||ct===0?Je.ceil(B):Je(B),B=Ce.offset(B,(x.V-1)*7),x.y=B.getFullYear(),x.m=B.getMonth(),x.d=B.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),ct="Z"in x?Mn(fe(x.y,0,1)).getUTCDay():_n(fe(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(ct+5)%7:x.w+x.U*7-(ct+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,Mn(x)):_n(x)}}function I($,L,Y,x){for(var at=0,B=L.length,ct=Y.length,ut,Ot;at<B;){if(x>=ct)return-1;if(ut=L.charCodeAt(at++),ut===37){if(ut=L.charAt(at++),Ot=T[ut in Vr?L.charAt(at++):ut],!Ot||(x=Ot($,Y,x))<0)return-1}else if(ut!=Y.charCodeAt(x++))return-1}return x}function F($,L,Y){var x=c.exec(L.slice(Y));return x?($.p=l.get(x[0].toLowerCase()),Y+x[0].length):-1}function M($,L,Y){var x=h.exec(L.slice(Y));return x?($.w=p.get(x[0].toLowerCase()),Y+x[0].length):-1}function y($,L,Y){var x=f.exec(L.slice(Y));return x?($.w=d.get(x[0].toLowerCase()),Y+x[0].length):-1}function U($,L,Y){var x=C.exec(L.slice(Y));return x?($.m=g.get(x[0].toLowerCase()),Y+x[0].length):-1}function _($,L,Y){var x=v.exec(L.slice(Y));return x?($.m=A.get(x[0].toLowerCase()),Y+x[0].length):-1}function k($,L,Y){return I($,e,L,Y)}function z($,L,Y){return I($,n,L,Y)}function q($,L,Y){return I($,r,L,Y)}function Z($){return o[$.getDay()]}function D($){return a[$.getDay()]}function S($){return u[$.getMonth()]}function H($){return s[$.getMonth()]}function X($){return i[+($.getHours()>=12)]}function O($){return 1+~~($.getMonth()/3)}function R($){return o[$.getUTCDay()]}function W($){return a[$.getUTCDay()]}function J($){return u[$.getUTCMonth()]}function kt($){return s[$.getUTCMonth()]}function bt($){return i[+($.getUTCHours()>=12)]}function vt($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var L=w($+="",m);return L.toString=function(){return $},L},parse:function($){var L=E($+="",!1);return L.toString=function(){return $},L},utcFormat:function($){var L=w($+="",b);return L.toString=function(){return $},L},utcParse:function($){var L=E($+="",!0);return L.toString=function(){return $},L}}}var Vr={"-":"",_:" ",0:"0"},j=/^\s*\d+/,Sl=/^%/,Al=/[\\^$*+?|[\]().{}]/g;function V(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function $l(t){return t.replace(Al,"\\$&")}function de(t){return new RegExp("^(?:"+t.map($l).join("|")+")","i")}function he(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Dl(t,e,n){var r=j.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Nl(t,e,n){var r=j.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function El(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Fl(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ul(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Br(t,e,n){var r=j.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Wr(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rl(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Il(t,e,n){var r=j.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ol(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qr(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zl(t,e,n){var r=j.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Xr(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ll(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Yl(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Hl(t,e,n){var r=j.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pl(t,e,n){var r=j.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Vl(t,e,n){var r=Sl.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Bl(t,e,n){var r=j.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Wl(t,e,n){var r=j.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Kr(t,e){return V(t.getDate(),e,2)}function ql(t,e){return V(t.getHours(),e,2)}function Xl(t,e){return V(t.getHours()%12||12,e,2)}function Kl(t,e){return V(1+Ce.count(Dt(t),t),e,3)}function Gi(t,e){return V(t.getMilliseconds(),e,3)}function Zl(t,e){return Gi(t,e)+"000"}function Gl(t,e){return V(t.getMonth()+1,e,2)}function Ql(t,e){return V(t.getMinutes(),e,2)}function Jl(t,e){return V(t.getSeconds(),e,2)}function jl(t){var e=t.getDay();return e===0?7:e}function tf(t,e){return V(fn.count(Dt(t)-1,t),e,2)}function Qi(t){var e=t.getDay();return e>=4||e===0?se(t):se.ceil(t)}function ef(t,e){return t=Qi(t),V(se.count(Dt(t),t)+(Dt(t).getDay()===4),e,2)}function nf(t){return t.getDay()}function rf(t,e){return V(Je.count(Dt(t)-1,t),e,2)}function af(t,e){return V(t.getFullYear()%100,e,2)}function of(t,e){return t=Qi(t),V(t.getFullYear()%100,e,2)}function sf(t,e){return V(t.getFullYear()%1e4,e,4)}function cf(t,e){var n=t.getDay();return t=n>=4||n===0?se(t):se.ceil(t),V(t.getFullYear()%1e4,e,4)}function uf(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+V(e/60|0,"0",2)+V(e%60,"0",2)}function Zr(t,e){return V(t.getUTCDate(),e,2)}function lf(t,e){return V(t.getUTCHours(),e,2)}function ff(t,e){return V(t.getUTCHours()%12||12,e,2)}function df(t,e){return V(1+ar.count(qt(t),t),e,3)}function Ji(t,e){return V(t.getUTCMilliseconds(),e,3)}function hf(t,e){return Ji(t,e)+"000"}function pf(t,e){return V(t.getUTCMonth()+1,e,2)}function gf(t,e){return V(t.getUTCMinutes(),e,2)}function mf(t,e){return V(t.getUTCSeconds(),e,2)}function yf(t){var e=t.getUTCDay();return e===0?7:e}function bf(t,e){return V(ve.count(qt(t)-1,t),e,2)}function ji(t){var e=t.getUTCDay();return e>=4||e===0?ce(t):ce.ceil(t)}function vf(t,e){return t=ji(t),V(ce.count(qt(t),t)+(qt(t).getUTCDay()===4),e,2)}function xf(t){return t.getUTCDay()}function wf(t,e){return V(je.count(qt(t)-1,t),e,2)}function _f(t,e){return V(t.getUTCFullYear()%100,e,2)}function Mf(t,e){return t=ji(t),V(t.getUTCFullYear()%100,e,2)}function kf(t,e){return V(t.getUTCFullYear()%1e4,e,4)}function Tf(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ce(t):ce.ceil(t),V(t.getUTCFullYear()%1e4,e,4)}function Cf(){return"+0000"}function Gr(){return"%"}function Qr(t){return+t}function Jr(t){return Math.floor(+t/1e3)}var Qt,sr,Ut;Sf({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Sf(t){return Qt=Cl(t),sr=Qt.format,Qt.parse,Ut=Qt.utcFormat,Qt.utcParse,Qt}function Af(t){return new Date(t)}function $f(t){return t instanceof Date?+t:+new Date(+t)}function ta(t,e,n,r,i,a,o,s,u,c){var l=Ki(),f=l.invert,d=l.domain,h=c(".%L"),p=c(":%S"),v=c("%I:%M"),A=c("%I %p"),C=c("%a %d"),g=c("%b %d"),m=c("%B"),b=c("%Y");function T(w){return(u(w)<w?h:s(w)<w?p:o(w)<w?v:a(w)<w?A:r(w)<w?i(w)<w?C:g:n(w)<w?m:b)(w)}return l.invert=function(w){return new Date(f(w))},l.domain=function(w){return arguments.length?d(Array.from(w,$f)):d().map(Af)},l.ticks=function(w){var E=d();return t(E[0],E[E.length-1],w??10)},l.tickFormat=function(w,E){return E==null?T:c(E)},l.nice=function(w){var E=d();return(!w||typeof w.range!="function")&&(w=e(E[0],E[E.length-1],w??10)),w?d(sl(E,w)):l},l.copy=function(){return Xi(l,ta(t,e,n,r,i,a,o,s,u,c))},l}function Df(){return tr.apply(ta(kl,Tl,Dt,or,fn,Ce,ir,rr,jt,sr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nf(){var t=0,e=1,n,r,i,a,o=Rt,s=!1,u;function c(f){return f==null||isNaN(f=+f)?u:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function l(f){return function(d){var h,p;return arguments.length?([h,p]=d,o=f(h,p),c):[o(0),o(1)]}}return c.range=l(Te),c.rangeRound=l(Ni),c.unknown=function(f){return arguments.length?(u=f,c):u},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Ef(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ea(){var t=Zi(Nf()(Rt));return t.copy=function(){return Ef(t,ea())},ju.apply(t,arguments)}function Nt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Se=t=>pc(t[t.length-1]);var Ff=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Nt);const Uf=Se(Ff);var Rf=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Nt);const If=Se(Rf);var Of=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Nt);const zf=Se(Of);var Lf=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Nt);const Yf=Se(Lf);var Hf=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Nt);const Pf=Se(Hf);var Vf=Ri(It(-100,.75,.35),It(80,1.5,.8)),Bf=Ri(It(260,.75,.35),It(80,1.5,.8));It();function Wf(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function dn(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}dn(Nt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));dn(Nt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var qf=dn(Nt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Xf=dn(Nt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function P(t){return function(){return t}}const jr=Math.abs,nt=Math.atan2,zt=Math.cos,Kf=Math.max,kn=Math.min,wt=Math.sin,te=Math.sqrt,ot=1e-12,Me=Math.PI,tn=Me/2,Oe=2*Me;function Zf(t){return t>1?0:t<-1?Me:Math.acos(t)}function ti(t){return t>=1?tn:t<=-1?-tn:Math.asin(t)}function cr(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Hu(e)}function Gf(t){return t.innerRadius}function Qf(t){return t.outerRadius}function Jf(t){return t.startAngle}function jf(t){return t.endAngle}function t0(t){return t&&t.padAngle}function e0(t,e,n,r,i,a,o,s){var u=n-t,c=r-e,l=o-i,f=s-a,d=f*u-l*c;if(!(d*d<ot))return d=(l*(e-a)-f*(t-i))/d,[t+d*u,e+d*c]}function Ee(t,e,n,r,i,a,o){var s=t-n,u=e-r,c=(o?a:-a)/te(s*s+u*u),l=c*u,f=-c*s,d=t+l,h=e+f,p=n+l,v=r+f,A=(d+p)/2,C=(h+v)/2,g=p-d,m=v-h,b=g*g+m*m,T=i-a,w=d*v-p*h,E=(m<0?-1:1)*te(Kf(0,T*T*b-w*w)),I=(w*m-g*E)/b,F=(-w*g-m*E)/b,M=(w*m+g*E)/b,y=(-w*g+m*E)/b,U=I-A,_=F-C,k=M-A,z=y-C;return U*U+_*_>k*k+z*z&&(I=M,F=y),{cx:I,cy:F,x01:-l,y01:-f,x11:I*(i/T-1),y11:F*(i/T-1)}}function ei(){var t=Gf,e=Qf,n=P(0),r=null,i=Jf,a=jf,o=t0,s=null,u=cr(c);function c(){var l,f,d=+t.apply(this,arguments),h=+e.apply(this,arguments),p=i.apply(this,arguments)-tn,v=a.apply(this,arguments)-tn,A=jr(v-p),C=v>p;if(s||(s=l=u()),h<d&&(f=h,h=d,d=f),!(h>ot))s.moveTo(0,0);else if(A>Oe-ot)s.moveTo(h*zt(p),h*wt(p)),s.arc(0,0,h,p,v,!C),d>ot&&(s.moveTo(d*zt(v),d*wt(v)),s.arc(0,0,d,v,p,C));else{var g=p,m=v,b=p,T=v,w=A,E=A,I=o.apply(this,arguments)/2,F=I>ot&&(r?+r.apply(this,arguments):te(d*d+h*h)),M=kn(jr(h-d)/2,+n.apply(this,arguments)),y=M,U=M,_,k;if(F>ot){var z=ti(F/d*wt(I)),q=ti(F/h*wt(I));(w-=z*2)>ot?(z*=C?1:-1,b+=z,T-=z):(w=0,b=T=(p+v)/2),(E-=q*2)>ot?(q*=C?1:-1,g+=q,m-=q):(E=0,g=m=(p+v)/2)}var Z=h*zt(g),D=h*wt(g),S=d*zt(T),H=d*wt(T);if(M>ot){var X=h*zt(m),O=h*wt(m),R=d*zt(b),W=d*wt(b),J;if(A<Me)if(J=e0(Z,D,R,W,X,O,S,H)){var kt=Z-J[0],bt=D-J[1],vt=X-J[0],$=O-J[1],L=1/wt(Zf((kt*vt+bt*$)/(te(kt*kt+bt*bt)*te(vt*vt+$*$)))/2),Y=te(J[0]*J[0]+J[1]*J[1]);y=kn(M,(d-Y)/(L-1)),U=kn(M,(h-Y)/(L+1))}else y=U=0}E>ot?U>ot?(_=Ee(R,W,Z,D,h,U,C),k=Ee(X,O,S,H,h,U,C),s.moveTo(_.cx+_.x01,_.cy+_.y01),U<M?s.arc(_.cx,_.cy,U,nt(_.y01,_.x01),nt(k.y01,k.x01),!C):(s.arc(_.cx,_.cy,U,nt(_.y01,_.x01),nt(_.y11,_.x11),!C),s.arc(0,0,h,nt(_.cy+_.y11,_.cx+_.x11),nt(k.cy+k.y11,k.cx+k.x11),!C),s.arc(k.cx,k.cy,U,nt(k.y11,k.x11),nt(k.y01,k.x01),!C))):(s.moveTo(Z,D),s.arc(0,0,h,g,m,!C)):s.moveTo(Z,D),!(d>ot)||!(w>ot)?s.lineTo(S,H):y>ot?(_=Ee(S,H,X,O,d,-y,C),k=Ee(Z,D,R,W,d,-y,C),s.lineTo(_.cx+_.x01,_.cy+_.y01),y<M?s.arc(_.cx,_.cy,y,nt(_.y01,_.x01),nt(k.y01,k.x01),!C):(s.arc(_.cx,_.cy,y,nt(_.y01,_.x01),nt(_.y11,_.x11),!C),s.arc(0,0,d,nt(_.cy+_.y11,_.cx+_.x11),nt(k.cy+k.y11,k.cx+k.x11),C),s.arc(k.cx,k.cy,y,nt(k.y11,k.x11),nt(k.y01,k.x01),!C))):s.arc(0,0,d,T,b,C)}if(s.closePath(),l)return s=null,l+""||null}return c.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Me/2;return[zt(f)*l,wt(f)*l]},c.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:P(+l),c):t},c.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:P(+l),c):e},c.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:P(+l),c):n},c.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:P(+l),c):r},c.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:P(+l),c):i},c.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:P(+l),c):a},c.padAngle=function(l){return arguments.length?(o=typeof l=="function"?l:P(+l),c):o},c.context=function(l){return arguments.length?(s=l??null,c):s},c}function ur(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function na(t){this._context=t}na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ra(t){return new na(t)}function ia(t){return t[0]}function aa(t){return t[1]}function oa(t,e){var n=P(!0),r=null,i=ra,a=null,o=cr(s);t=typeof t=="function"?t:t===void 0?ia:P(t),e=typeof e=="function"?e:e===void 0?aa:P(e);function s(u){var c,l=(u=ur(u)).length,f,d=!1,h;for(r==null&&(a=i(h=o())),c=0;c<=l;++c)!(c<l&&n(f=u[c],c,u))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,c,u),+e(f,c,u));if(h)return a=null,h+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:P(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:P(+u),s):e},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:P(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),s):r},s}function n0(t,e,n){var r=null,i=P(!0),a=null,o=ra,s=null,u=cr(c);t=typeof t=="function"?t:t===void 0?ia:P(+t),e=typeof e=="function"?e:P(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?aa:P(+n);function c(f){var d,h,p,v=(f=ur(f)).length,A,C=!1,g,m=new Array(v),b=new Array(v);for(a==null&&(s=o(g=u())),d=0;d<=v;++d){if(!(d<v&&i(A=f[d],d,f))===C)if(C=!C)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=h;--p)s.point(m[p],b[p]);s.lineEnd(),s.areaEnd()}C&&(m[d]=+t(A,d,f),b[d]=+e(A,d,f),s.point(r?+r(A,d,f):m[d],n?+n(A,d,f):b[d]))}if(g)return s=null,g+""||null}function l(){return oa().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:P(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:P(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:P(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:P(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:P(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:P(+f),c):n},c.lineX0=c.lineY0=function(){return l().x(t).y(e)},c.lineY1=function(){return l().x(t).y(n)},c.lineX1=function(){return l().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:P(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}function r0(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function i0(t){return t}function a0(){var t=i0,e=r0,n=null,r=P(0),i=P(Oe),a=P(0);function o(s){var u,c=(s=ur(s)).length,l,f,d=0,h=new Array(c),p=new Array(c),v=+r.apply(this,arguments),A=Math.min(Oe,Math.max(-Oe,i.apply(this,arguments)-v)),C,g=Math.min(Math.abs(A)/c,a.apply(this,arguments)),m=g*(A<0?-1:1),b;for(u=0;u<c;++u)(b=p[h[u]=u]=+t(s[u],u,s))>0&&(d+=b);for(e!=null?h.sort(function(T,w){return e(p[T],p[w])}):n!=null&&h.sort(function(T,w){return n(s[T],s[w])}),u=0,f=d?(A-c*m)/d:0;u<c;++u,v=C)l=h[u],b=p[l],C=v+(b>0?b*f:0)+m,p[l]={data:s[l],index:u,value:b,startAngle:v,endAngle:C,padAngle:g};return p}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:P(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:P(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:P(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:P(+s),o):a},o}function ni(t){return t<0?-1:1}function ri(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(ni(a)+ni(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function ii(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tn(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function en(t){this._context=t}en.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tn(this,this._t0,ii(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tn(this,ii(this,n=ri(this,t,e)),n);break;default:Tn(this,this._t0,n=ri(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(en.prototype).point=function(t,e){en.prototype.point.call(this,e,t)};function ai(t){return new en(t)}function ye(t,e,n){this.k=t,this.x=e,this.y=n}ye.prototype={constructor:ye,scale:function(t){return t===1?this:new ye(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ye(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ye.prototype;function hn(t,e,n=150){let r=null,i=null,a=null;const o=lt(!1),s=()=>{i&&clearTimeout(i),o.value=!0,i=setTimeout(()=>{t.value&&Ye(()=>{e(),o.value=!1})},n)},u=()=>{t.value&&(l(),r=new ResizeObserver(s),r.observe(t.value))},c=()=>{a=new MutationObserver(()=>{s()}),a.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})},l=()=>{r&&t.value&&(r.unobserve(t.value),r.disconnect(),r=null),i&&(clearTimeout(i),i=null)},f=()=>{a&&(a.disconnect(),a=null)};return li(()=>{u(),c(),Ye(()=>{t.value&&e()})}),fi(()=>{l(),f()}),{isResizing:o,handleResize:s,setupResizeObserver:u}}const o0={__name:"TrendChart",props:{data:{type:Array,default:()=>[]},height:{type:Number,default:300},timeRange:{type:String,default:"7d"},color:{type:String,default:"#8B5CF6"},showDots:{type:Boolean,default:!0},showArea:{type:Boolean,default:!0},margin:{type:Object,default:()=>({top:20,right:30,bottom:40,left:50})}},setup(t,{expose:e}){const n=t,r=lt(null),i=()=>{if(!r.value)return;K(r.value).selectAll("*").remove();const a=r.value,o=a.clientWidth||a.offsetWidth,s=Math.min(n.height,window.innerHeight*.5);if(o<100||s<100)return;const c=o<600?{top:10,right:20,bottom:30,left:40}:n.margin;let l=n.data;if(!l||l.length===0){const m=n.timeRange==="7d"?7:n.timeRange==="30d"?30:90;l=Array.from({length:m},(b,T)=>{const w=new Date;return w.setDate(w.getDate()-(m-T-1)),{date:w,value:Math.floor(Math.random()*10+5+T*.5)}})}const f=K(r.value).append("svg").attr("width",o).attr("height",s),d=f.append("g").attr("transform",`translate(${c.left},${c.top})`),h=Df().domain(Ja(l,m=>m.date)).range([0,o-c.left-c.right]),p=ln().domain([0,Dn(l,m=>m.value)]).nice().range([s-c.top-c.bottom,0]);if(n.showArea){const m=f.append("defs").append("linearGradient").attr("id","trend-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",p(0)).attr("x2",0).attr("y2",p(Dn(l,T=>T.value)));m.append("stop").attr("offset","0%").attr("stop-color",n.color).attr("stop-opacity",.1),m.append("stop").attr("offset","100%").attr("stop-color",n.color).attr("stop-opacity",.6);const b=n0().x(T=>h(T.date)).y0(p(0)).y1(T=>p(T.value)).curve(ai);d.append("path").datum(l).attr("fill","url(#trend-gradient)").attr("d",b).style("opacity",0).transition().duration(800).style("opacity",1)}const v=oa().x(m=>h(m.date)).y(m=>p(m.value)).curve(ai),A=d.append("path").datum(l).attr("fill","none").attr("stroke",n.color).attr("stroke-width",2).attr("d",v),C=A.node().getTotalLength();A.attr("stroke-dasharray",C+" "+C).attr("stroke-dashoffset",C).transition().duration(1e3).ease(Uu).attr("stroke-dashoffset",0),n.showDots&&d.selectAll(".dot").data(l).enter().append("circle").attr("class","dot").attr("cx",m=>h(m.date)).attr("cy",m=>p(m.value)).attr("r",0).attr("fill",n.color).transition().delay((m,b)=>b*50).duration(300).attr("r",4);const g=n.timeRange==="7d"?7:n.timeRange==="30d"?30:90;d.append("g").attr("transform",`translate(0,${s-c.top-c.bottom})`).call(gr(h).tickFormat(sr(g<=7?"%a":"%b %d")).ticks(g<=7?g:6)).style("color","#6b7280"),d.append("g").call(mr(p).ticks(5)).style("color","#6b7280"),d.append("g").attr("class","grid").attr("transform",`translate(0,${s-c.top-c.bottom})`).call(gr(h).tickSize(-(s-c.top-c.bottom)).tickFormat("").ticks(g<=7?g:6)).style("stroke-dasharray","2,2").style("opacity",.3),d.append("g").attr("class","grid").call(mr(p).tickSize(-(o-c.left-c.right)).tickFormat("").ticks(5)).style("stroke-dasharray","2,2").style("opacity",.3)};return hn(r,i,150),nn(()=>[n.data,n.timeRange,n.color],()=>{i()}),e({redraw:i}),(a,o)=>(it(),st("div",{ref_key:"chartContainer",ref:r,class:"trend-chart-container",style:Vn({height:t.height+"px"})},null,4))}},s0=Xt(o0,[["__scopeId","data-v-cef1fce5"]]),c0={__name:"CategoryChart",props:{data:{type:Array,default:()=>[]},height:{type:Number,default:300},colors:{type:Array,default:()=>["#8B5CF6","#EC4899","#10B981","#F59E0B","#3B82F6","#EF4444"]},innerRadiusRatio:{type:Number,default:.5},showLabels:{type:Boolean,default:!0},showCenterText:{type:Boolean,default:!0},centerText:{type:Object,default:null},clickable:{type:Boolean,default:!0}},emits:["category-click"],setup(t,{expose:e,emit:n}){const r=t,i=n,a=lt(null),o=et(()=>document.documentElement.classList.contains("dark-theme")),s=()=>{if(!a.value)return;K(a.value).selectAll("*").remove();const u=a.value,c=u.clientWidth||u.offsetWidth,l=Math.min(c,window.innerWidth-40),f=Math.min(r.height,window.innerHeight*.5);if(l<100||f<100)return;const d=l<400,h=d?10:20,p=l-h*2,v=f-h*2,A=Math.min(p,v)/2;if(!r.data||r.data.length===0){K(a.value).append("div").attr("class","no-data-message").style("text-align","center").style("padding-top",`${f/2-20}px`).style("color","var(--text-color-secondary, #6b7280)").text("No data available");return}const g=K(a.value).append("svg").attr("width",l).attr("height",f).append("g").attr("transform",`translate(${l/2},${f/2})`),m=er().domain(r.data.map(F=>F.category)).range(r.colors),b=a0().value(F=>F.count).sort(null),T=ei().innerRadius(A*r.innerRadiusRatio).outerRadius(A*.8),w=ei().innerRadius(A*.9).outerRadius(A*.9),E=K(a.value).append("div").attr("class","chart-tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px 12px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","10"),I=g.selectAll(".arc").data(b(r.data)).enter().append("g").attr("class","arc");if(I.append("path").attr("d",T).attr("fill",F=>m(F.data.category)).attr("stroke",o.value?"var(--surface-ground, #121212)":"white").attr("stroke-width",2).style("cursor",r.clickable?"pointer":"default").style("opacity",0).transition().duration(800).delay((F,M)=>M*100).style("opacity",1).attrTween("d",function(F){const M=Te({startAngle:0,endAngle:0},F);return function(y){return T(M(y))}}),I.select("path").on("mouseover",function(F,M){K(this).transition().duration(200).attr("transform","scale(1.05)");const y=(M.data.count/hr(r.data,_=>_.count)*100).toFixed(1);E.transition().duration(200).style("opacity",1),E.html(`
                <div><strong>${M.data.category}</strong></div>
                <div>Count: ${M.data.count}</div>
                <div>Percentage: ${y}%</div>
                ${r.clickable?'<div style="font-size: 10px; margin-top: 4px; opacity: 0.8;">Click to filter</div>':""}
            `);const U=a.value.getBoundingClientRect();E.style("left",F.clientX-U.left+10+"px").style("top",F.clientY-U.top-10+"px")}).on("mousemove",function(F){const M=a.value.getBoundingClientRect();E.style("left",F.clientX-M.left+10+"px").style("top",F.clientY-M.top-10+"px")}).on("mouseout",function(){K(this).transition().duration(200).attr("transform","scale(1)"),E.transition().duration(200).style("opacity",0)}).on("click",function(F,M){r.clickable&&(K(this).transition().duration(100).attr("transform","scale(0.95)").transition().duration(100).attr("transform","scale(1)"),i("category-click",M.data))}),r.showLabels&&!d){const F=document.documentElement.classList.contains("dark-theme");I.append("text").attr("transform",M=>`translate(${w.centroid(M)})`).attr("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill",F?"#e5e7eb":"#1f2937").style("text-shadow",F?"0 1px 2px rgba(0, 0, 0, 0.8)":"0 1px 2px rgba(255, 255, 255, 0.8)").style("opacity",0).text(M=>{if(M.data.count===0)return"";const y=d?M.data.category:`${M.data.category} (${M.data.count})`;return y.length>15?y.substring(0,12)+"...":y}).transition().delay(800).duration(300).style("opacity",1)}if(r.showCenterText){const F=r.centerText||{value:hr(r.data,y=>y.count).toString(),label:"Total"},M=g.append("g").attr("class","center-text").style("opacity",0);M.append("text").attr("text-anchor","middle").attr("dy","-0.5em").style("font-size","24px").style("font-weight","bold").style("fill","var(--text-color, #1f2937)").text(F.value),M.append("text").attr("text-anchor","middle").attr("dy","1em").style("font-size","14px").style("fill","var(--text-color-secondary, #6b7280)").text(F.label),M.transition().delay(1e3).duration(300).style("opacity",1)}};return hn(a,s,150),nn(()=>r.data,()=>{s()},{deep:!0}),e({redraw:s}),(u,c)=>(it(),st("div",{ref_key:"chartContainer",ref:a,class:"category-chart-container",style:Vn({height:t.height+"px"})},null,4))}},u0=Xt(c0,[["__scopeId","data-v-415d69e0"]]);function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var d0={value:function(){}};function sa(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ze(n)}function ze(t){this._=t}function h0(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ze.prototype=sa.prototype={constructor:ze,on:function(t,e){var n=this._,r=h0(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=p0(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=oi(n[i],t.name,e);else if(e==null)for(i in n)n[i]=oi(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ze(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function p0(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function oi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=d0,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const g0=Object.freeze(Object.defineProperty({__proto__:null,dispatch:sa},Symbol.toStringTag,{value:"Module"})),m0=f0(g0),y0=m0.dispatch,Cn=Math.PI/180,b0={archimedean:ca,rectangular:$0},be=64,Le=2048;var v0=function(){var t=[256,256],e=x0,n=w0,r=_0,i=si,a=si,o=M0,s=k0,u=ca,c=[],l=1/0,f=y0("word","end"),d=null,h=Math.random,p={},v=N0;p.canvas=function(g){return arguments.length?(v=Ft(g),p):v},p.start=function(){var g=A(v()),m=D0((t[0]>>5)*t[1]),b=null,T=c.length,w=-1,E=[],I=c.map(function(M,y){return M.text=e.call(this,M,y),M.font=n.call(this,M,y),M.style=i.call(this,M,y),M.weight=a.call(this,M,y),M.rotate=o.call(this,M,y),M.size=~~r.call(this,M,y),M.padding=s.call(this,M,y),M}).sort(function(M,y){return y.size-M.size});return d&&clearInterval(d),d=setInterval(F,0),F(),p;function F(){for(var M=Date.now();Date.now()-M<l&&++w<T&&d;){var y=I[w];y.x=t[0]*(h()+.5)>>1,y.y=t[1]*(h()+.5)>>1,T0(g,y,I,w),y.hasText&&C(m,y,b)&&(E.push(y),f.call("word",p,y),b?S0(b,y):b=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=t[0]>>1,y.y-=t[1]>>1)}w>=T&&(p.stop(),f.call("end",p,E,b))}},p.stop=function(){d&&(clearInterval(d),d=null);for(const g of c)delete g.sprite;return p};function A(g){const m=g.getContext("2d",{willReadFrequently:!0});g.width=g.height=1;const b=Math.sqrt(m.getImageData(0,0,1,1).data.length>>2);return g.width=(be<<5)/b,g.height=Le/b,m.fillStyle=m.strokeStyle="red",{context:m,ratio:b}}function C(g,m,b){t[0],t[1];for(var T=m.x,w=m.y,E=Math.sqrt(t[0]*t[0]+t[1]*t[1]),I=u(t),F=h()<.5?1:-1,M=-F,y,U,_;(y=I(M+=F))&&(U=~~y[0],_=~~y[1],!(Math.min(Math.abs(U),Math.abs(_))>=E));)if(m.x=T+U,m.y=w+_,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>t[0]||m.y+m.y1>t[1])&&(!b||A0(m,b))&&!C0(m,g,t[0])){for(var k=m.sprite,z=m.width>>5,q=t[0]>>5,Z=m.x-(z<<4),D=Z&127,S=32-D,H=m.y1-m.y0,X=(m.y+m.y0)*q+(Z>>5),O,R=0;R<H;R++){O=0;for(var W=0;W<=z;W++)g[X+W]|=O<<S|(W<z?(O=k[R*z+W])>>>D:0);X+=q}return!0}return!1}return p.timeInterval=function(g){return arguments.length?(l=g??1/0,p):l},p.words=function(g){return arguments.length?(c=g,p):c},p.size=function(g){return arguments.length?(t=[+g[0],+g[1]],p):t},p.font=function(g){return arguments.length?(n=Ft(g),p):n},p.fontStyle=function(g){return arguments.length?(i=Ft(g),p):i},p.fontWeight=function(g){return arguments.length?(a=Ft(g),p):a},p.rotate=function(g){return arguments.length?(o=Ft(g),p):o},p.text=function(g){return arguments.length?(e=Ft(g),p):e},p.spiral=function(g){return arguments.length?(u=b0[g]||g,p):u},p.fontSize=function(g){return arguments.length?(r=Ft(g),p):r},p.padding=function(g){return arguments.length?(s=Ft(g),p):s},p.random=function(g){return arguments.length?(h=g,p):h},p.on=function(){var g=f.on.apply(f,arguments);return g===f?p:g},p};function x0(t){return t.text}function w0(){return"serif"}function si(){return"normal"}function _0(t){return Math.sqrt(t.value)}function M0(){return(~~(random()*6)-3)*30}function k0(){return 1}function T0(t,e,n,r){if(!e.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,(be<<5)/a,Le/a);var o=0,s=0,u=0,c=n.length;for(--r;++r<c;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;const y=i.measureText(e.text),U=-Math.floor(y.width/2);let _=(y.width+1)*a,k=e.size<<1;if(e.rotate){var l=Math.sin(e.rotate*Cn),f=Math.cos(e.rotate*Cn),d=_*f,h=_*l,p=k*f,v=k*l;_=Math.max(Math.abs(d+v),Math.abs(d-v))+31>>5<<5,k=~~Math.max(Math.abs(h+p),Math.abs(h-p))}else _=_+31>>5<<5;if(k>u&&(u=k),o+_>=be<<5&&(o=0,s+=u,u=0),s+k>=Le)break;i.translate((o+(_>>1))/a,(s+(k>>1))/a),e.rotate&&i.rotate(e.rotate*Cn),i.fillText(e.text,U,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,U,0)),i.restore(),e.width=_,e.height=k,e.xoff=o,e.yoff=s,e.x1=_>>1,e.y1=k>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=_}for(var A=i.getImageData(0,0,(be<<5)/a,Le/a).data,C=[];--r>=0;)if(e=n[r],!!e.hasText){for(var g=e.width,m=g>>5,b=e.y1-e.y0,T=0;T<b*m;T++)C[T]=0;if(o=e.xoff,o==null)return;s=e.yoff;for(var w=0,E=-1,I=0;I<b;I++){for(var T=0;T<g;T++){var F=m*I+(T>>5),M=A[(s+I)*(be<<5)+(o+T)<<2]?1<<31-T%32:0;C[F]|=M,w|=M}w?E=I:(e.y0++,b--,I--,s++)}e.y1=e.y0+E,e.sprite=C.slice(0,(e.y1-e.y0)*m)}}}function C0(t,e,n){n>>=5;for(var r=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,s=32-o,u=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),l,f=0;f<u;f++){l=0;for(var d=0;d<=i;d++)if((l<<s|(d<i?(l=r[f*i+d])>>>o:0))&e[c+d])return!0;c+=n}return!1}function S0(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function A0(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function ca(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function $0(t){var e=4,n=e*t[0]/t[1],r=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=e;break;case 2:r-=n;break;default:i-=e;break}return[r,i]}}function D0(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function N0(){return document.createElement("canvas")}function Ft(t){return typeof t=="function"?t:function(){return t}}const E0=l0(v0),F0={key:0,class:"loading-spinner"},U0={__name:"TagCloud",props:{tags:{type:Array,default:()=>[]},height:{type:Number,default:400},colors:{type:Array,default:()=>["#8B5CF6","#EC4899","#10B981","#F59E0B","#3B82F6","#EF4444","#14B8A6","#A855F7"]},minFontSize:{type:Number,default:16},maxFontSize:{type:Number,default:72},padding:{type:Number,default:5},spiral:{type:String,default:"archimedean"},rotations:{type:Number,default:3},clickable:{type:Boolean,default:!0}},emits:["tag-click"],setup(t,{expose:e,emit:n}){const r=t,i=n,a=lt(null),o=lt(!1),s=()=>{if(!r.tags||r.tags.length===0)return[];const f=r.tags.map(b=>b.count),d=Math.max(...f),h=Math.min(...f),v=a.value.clientWidth,A=v<500,C=Math.min(r.maxFontSize,A?Math.min(32,v/10):Math.min(r.maxFontSize,v/8)),g=Math.max(A?12:16,Math.min(r.minFontSize,C/3)),m=ln().domain([h,d]).range([g,C]);return r.tags.map(b=>({text:b.text,size:m(b.count),count:b.count,originalData:b}))},u=()=>{if(!a.value)return;o.value=!0,K(a.value).selectAll("*").remove();const f=a.value,d=f.getBoundingClientRect(),h=Math.min(d.width,window.innerWidth-40),p=h>0?h:f.clientWidth,v=Math.min(r.height,window.innerHeight*.4);if(p<100||v<100){o.value=!1;return}const A=s();if(A.length===0){K(a.value).append("div").attr("class","no-tags-message").style("text-align","center").style("padding-top",`${v/2-20}px`).style("color","#6b7280").text("No tags available"),o.value=!1;return}const C=er().range(r.colors),g=K(a.value).append("div").attr("class","tag-tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.85)").style("color","white").style("padding","8px 12px").style("border-radius","6px").style("font-size","12px").style("pointer-events","none").style("z-index","100").style("box-shadow","0 2px 8px rgba(0, 0, 0, 0.2)"),m=y=>{const _=K(a.value).append("svg").attr("width",p).attr("height",v).append("g").attr("transform",`translate(${p/2},${v/2})`);_.selectAll("text").data(y).enter().append("text").style("font-size",k=>`${k.size}px`).style("font-family","system-ui, -apple-system, sans-serif").style("font-weight","bold").style("fill",(k,z)=>C(z)).style("cursor",r.clickable?"pointer":"default").attr("text-anchor","middle").attr("transform",k=>`translate(${k.x},${k.y})rotate(${k.rotate})`).text(k=>k.text).style("opacity",0).transition().duration(800).delay((k,z)=>z*20).style("opacity",1),_.selectAll("text").on("mouseover",function(k,z){if(!r.clickable)return;K(this).transition().duration(200).style("opacity",.7).style("font-size",`${z.size*1.2}px`),g.transition().duration(200).style("opacity",1),g.html(`
                    <div style="font-weight: bold; margin-bottom: 4px;">${z.text}</div>
                    <div>Count: ${z.count}</div>
                    <div style="font-size: 10px; margin-top: 4px; opacity: 0.8;">Click to filter</div>
                `);const q=a.value.getBoundingClientRect();g.style("left",k.clientX-q.left+10+"px").style("top",k.clientY-q.top-10+"px")}).on("mousemove",function(k){if(!r.clickable)return;const z=a.value.getBoundingClientRect();g.style("left",k.clientX-z.left+10+"px").style("top",k.clientY-z.top-10+"px")}).on("mouseout",function(k,z){r.clickable&&(K(this).transition().duration(200).style("opacity",1).style("font-size",`${z.size}px`),g.transition().duration(200).style("opacity",0))}).on("click",function(k,z){r.clickable&&(K(this).transition().duration(100).style("font-size",`${z.size*.9}px`).transition().duration(100).style("font-size",`${z.size}px`),i("tag-click",z.originalData||{text:z.text,count:z.count}))}),o.value=!1},b=p<500,T=b?2:r.padding,w=b?"rectangular":r.spiral,E=b?A.slice(0,Math.min(20,A.length)):A.slice(0,Math.min(40,A.length)),I=b?p-30:p-10,F=b?v-20:v-10;E0().size([Math.max(100,I),Math.max(100,F)]).words(E).padding(T).rotate(()=>{if(b)return 0;const y=[-30,-15,0,15,30];return y[Math.floor(Math.random()*y.length)]}).font("system-ui").fontWeight("bold").fontSize(y=>y.size).spiral(w).on("end",m).start()},c=()=>{const f=document.createElement("style");f.textContent=`
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    `,document.head.appendChild(f)};return hn(a,u,200),(()=>{let f=!1;return()=>{f||(c(),f=!0)}})()(),nn(()=>r.tags,()=>{u()},{deep:!0}),e({redraw:u}),(f,d)=>(it(),st("div",{ref_key:"cloudContainer",ref:a,class:"tag-cloud-container",style:Vn({height:t.height+"px"})},[o.value?(it(),st("div",F0,[...d[0]||(d[0]=[N("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1)])])):Pn("",!0)],4))}},R0=Xt(U0,[["__scopeId","data-v-1a4d4980"]]),I0={key:0,class:"loading-spinner"},O0={__name:"CalendarHeatmap",props:{data:{type:Array,default:()=>[]},year:{type:Number,default:new Date().getFullYear()},colorScheme:{type:String,default:"greens"},cellSize:{type:Number,default:15},cellPadding:{type:Number,default:2},showMonthLabels:{type:Boolean,default:!0},showDayLabels:{type:Boolean,default:!0},clickable:{type:Boolean,default:!0}},emits:["date-click"],setup(t,{expose:e,emit:n}){const r=t,i=n,a=lt(null),o=lt(!1),s=et(()=>document.documentElement.classList.contains("dark-theme")),u=()=>{if(s.value){const l={greens:Wf,blues:Bf,purples:Xf,oranges:Vf,reds:qf};return l[r.colorScheme]||l.greens}else{const l={greens:If,blues:Uf,purples:zf,oranges:Pf,reds:Yf};return l[r.colorScheme]||l.greens}},c=()=>{if(!a.value)return;o.value=!0,K(a.value).selectAll("*").remove();const l=a.value,f=l.clientWidth||l.offsetWidth;if(f<50){o.value=!1;return}const d=f<600,h=f<900,p=d?Math.max(8,Math.floor(f/60)):h?Math.min(12,r.cellSize):r.cellSize,v=d?1:r.cellPadding,A=p*7+v*6,C=r.showMonthLabels?20:0,g=r.showDayLabels&&!d?30:0,m=40,b=ve.floor(new Date(Date.UTC(r.year,0,1))),w=xl(b,new Date(Date.UTC(r.year+1,0,1))).length,E=Math.min(f,g+w*(p+v)+20),I=C+A+m+20,F=new Map;r.data.forEach(O=>{const R=new Date(O.date);R.setUTCDate(R.getUTCDate());const W=Ut("%Y-%m-%d")(R);F.set(W,O.count)});const M=Dn(r.data,O=>O.count)||1,y=ea().domain([0,M]).interpolator(u()),U=K(a.value).append("svg").attr("width",E).attr("height",I),_=U.append("g").attr("transform",`translate(${g}, ${C})`),k=K(a.value).append("div").attr("class","heatmap-tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.85)").style("color","white").style("padding","8px 12px").style("border-radius","6px").style("font-size","12px").style("pointer-events","none").style("z-index","100").style("box-shadow","0 2px 8px rgba(0, 0, 0, 0.2)");if(r.showDayLabels){const O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];U.selectAll(".day-label").data([1,3,5]).enter().append("text").attr("class","day-label").attr("x",g-5).attr("y",R=>C+R*(p+v)+p/2).attr("text-anchor","end").attr("alignment-baseline","middle").style("font-size","10px").style("fill","var(--text-color-secondary, #6b7280)").text(R=>O[R])}if(r.showMonthLabels){const O=_l(new Date(Date.UTC(r.year,0,1)),new Date(Date.UTC(r.year+1,0,1)));U.selectAll(".month-label").data(O).enter().append("text").attr("class","month-label").attr("x",R=>{const W=ve.count(b,R);return g+W*(p+v)}).attr("y",C-5).style("font-size","11px").style("fill","var(--text-color-secondary, #374151)").text(R=>Ut("%b")(R))}const z=ll(new Date(Date.UTC(r.year,0,1)),new Date(Date.UTC(r.year+1,0,1)));_.selectAll(".day-cell").data(z).enter().append("rect").attr("class","day-cell").attr("x",O=>ve.count(b,O)*(p+v)).attr("y",O=>O.getUTCDay()*(p+v)).attr("width",p).attr("height",p).attr("rx",2).attr("ry",2).style("fill",O=>{const R=Ut("%Y-%m-%d")(O),W=F.get(R)||0;return W===0?"var(--surface-border, #e5e7eb)":y(W)}).style("stroke","var(--surface-ground, #fff)").style("stroke-width",1).style("cursor",r.clickable?"pointer":"default").style("opacity",0).transition().duration(300).delay((O,R)=>R*2).style("opacity",1).selection().on("mouseover",function(O,R){const W=Ut("%Y-%m-%d")(R),J=F.get(W)||0;K(this).transition().duration(100).style("stroke","var(--primary-color, #374151)").style("stroke-width",2),k.transition().duration(200).style("opacity",1);const kt=Ut("%B %d, %Y")(R),bt=Ut("%A")(R);k.html(`
                <div style="font-weight: bold; margin-bottom: 4px;">${kt}</div>
                <div style="font-size: 10px; opacity: 0.8; margin-bottom: 2px;">${bt}</div>
                <div>${J} ${J===1?"idea":"ideas"}</div>
                ${r.clickable?'<div style="font-size: 10px; margin-top: 4px; opacity: 0.8;">Click to view</div>':""}
            `);const vt=a.value.getBoundingClientRect();k.style("left",O.clientX-vt.left+10+"px").style("top",O.clientY-vt.top-10+"px")}).on("mousemove",function(O){const R=a.value.getBoundingClientRect();k.style("left",O.clientX-R.left+10+"px").style("top",O.clientY-R.top-10+"px")}).on("mouseout",function(){K(this).transition().duration(100).style("stroke","var(--surface-ground, #fff)").style("stroke-width",1),k.transition().duration(200).style("opacity",0)}).on("click",function(O,R){if(!r.clickable)return;const W=Ut("%Y-%m-%d")(R),J=F.get(W)||0;K(this).transition().duration(100).attr("transform","scale(0.9)").transition().duration(100).attr("transform","scale(1)"),i("date-click",{date:R,dateStr:W,count:J})});const Z=E-200-20,D=I-30,S=U.append("g").attr("transform",`translate(${Z}, ${D})`);S.append("text").attr("x",0).attr("y",0).style("font-size","11px").style("fill","var(--text-color-secondary, #6b7280)").text("Less");const H=ln().domain([0,4]).range([0,M]),X=[0,1,2,3,4];S.selectAll(".legend-cell").data(X).enter().append("rect").attr("class","legend-cell").attr("x",O=>30+O*(p+v)).attr("y",-p/2).attr("width",p).attr("height",p).attr("rx",2).attr("ry",2).style("fill",O=>O===0?"var(--surface-border, #e5e7eb)":y(H(O))).style("stroke","var(--surface-ground, #fff)").style("stroke-width",1),S.append("text").attr("x",30+5*(p+v)).attr("y",0).style("font-size","11px").style("fill","var(--text-color-secondary, #6b7280)").text("More"),o.value=!1};return hn(a,c,250),nn(()=>[r.data,r.year],()=>{c()},{deep:!0}),e({redraw:c}),(l,f)=>(it(),st("div",{ref_key:"heatmapContainer",ref:a,class:"calendar-heatmap-container"},[o.value?(it(),st("div",I0,[...f[0]||(f[0]=[N("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1)])])):Pn("",!0)],512))}},z0=Xt(O0,[["__scopeId","data-v-890d185c"]]);var L0={root:function(e){var n=e.props;return["p-selectbutton p-button-group p-component",{"p-disabled":n.disabled,"p-invalid":n.invalid}]},button:function(e){var n=e.instance,r=e.option;return["p-button p-component",{"p-highlight":n.isSelected(r),"p-disabled":n.isOptionDisabled(r)}]},label:"p-button-label"},Y0=da.extend({name:"selectbutton",classes:L0}),H0={name:"BaseSelectButton",extends:_a,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,multiple:Boolean,unselectable:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},invalid:{type:Boolean,default:!1},disabled:Boolean,dataKey:null,ariaLabelledby:{type:String,default:null}},style:Y0,provide:function(){return{$parentInstance:this}}};function P0(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ua(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return a=c.done,c},e:function(c){o=!0,s=c},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function V0(t){return q0(t)||W0(t)||ua(t)||B0()}function B0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ua(t,e){if(t){if(typeof t=="string")return Hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hn(t,e)}}function W0(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q0(t){if(Array.isArray(t))return Hn(t)}function Hn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var la={name:"SelectButton",extends:H0,inheritAttrs:!1,emits:["update:modelValue","focus","blur","change"],data:function(){return{focusedIndex:0}},mounted:function(){this.defaultTabIndexes()},methods:{defaultTabIndexes:function(){for(var e=Et.find(this.$refs.container,'[data-pc-section="button"]'),n=Et.findSingle(this.$refs.container,'[data-p-highlight="true"]'),r=0;r<e.length;r++)(Et.getAttribute(e[r],"data-p-highlight")===!0&&xt.equals(e[r],n)||n===null&&r==0)&&(this.focusedIndex=r)},getOptionLabel:function(e){return this.optionLabel?xt.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?xt.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?xt.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},getPTOptions:function(e,n){return this.ptm(n,{context:{active:this.isSelected(e),disabled:this.isOptionDisabled(e),option:e}})},isOptionDisabled:function(e){return this.optionDisabled?xt.resolveFieldData(e,this.optionDisabled):!1},onOptionSelect:function(e,n,r){var i=this;if(!(this.disabled||this.isOptionDisabled(n))){var a=this.isSelected(n);if(!(a&&!(this.unselectable&&this.allowEmpty))){var o=this.getOptionValue(n),s;this.multiple?a?s=this.modelValue.filter(function(u){return!xt.equals(u,o,i.equalityKey)}):s=this.modelValue?[].concat(V0(this.modelValue),[o]):[o]:s=a?null:o,this.focusedIndex=r,this.$emit("update:modelValue",s),this.$emit("change",{event:e,value:s})}}},isSelected:function(e){var n=!1,r=this.getOptionValue(e);if(this.multiple){if(this.modelValue){var i=P0(this.modelValue),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;if(xt.equals(o,r,this.equalityKey)){n=!0;break}}}catch(s){i.e(s)}finally{i.f()}}}else n=xt.equals(this.modelValue,r,this.equalityKey);return n},onKeydown:function(e,n,r){switch(e.code){case"Space":{this.onOptionSelect(e,n,r),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.onArrowRightKey(e.target),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.onArrowLeftKey(e.target),e.preventDefault();break}}},onArrowRightKey:function(e){var n=this.findNextElement(e);n&&(this.focusedIndex=xt.findIndexInList(n,this.findAllElements()),Et.focus(n))},onArrowLeftKey:function(e){var n=this.findPrevElement(e);n&&(this.focusedIndex=xt.findIndexInList(n,this.findAllElements()),Et.focus(n))},findAllElements:function(){return Et.find(this.$refs.container,'[data-pc-section="button"]')},findNextElement:function(e){return e.nextElementSibling?Et.getAttribute(e.nextElementSibling,"data-p-disabled")?this.findNextElement(e.nextElementSibling):e.nextElementSibling:null},findPrevElement:function(e){return e.previousElementSibling?Et.getAttribute(e.previousElementSibling,"data-p-disabled")?this.findPrevElement(e.previousElementSibling):e.previousElementSibling:null},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e,n){e.target&&e.relatedTarget&&e.target.parentElement!==e.relatedTarget.parentElement&&this.defaultTabIndexes(),this.$emit("blur",e,n)},findTabindex:function(e,n){return this.disabled||this.isOptionDisabled(e)||n!==this.focusedIndex?"-1":"0"}},computed:{equalityKey:function(){return this.optionValue?null:this.dataKey}},directives:{ripple:wa}},X0=["aria-labelledby"],K0=["tabindex","aria-label","role","aria-checked","aria-disabled","onClick","onKeydown","onBlur","data-p-highlight","data-p-disabled"];function Z0(t,e,n,r,i,a){var o=ha("ripple");return it(),st("div",pn({ref:"container",class:t.cx("root"),role:"group","aria-labelledby":t.ariaLabelledby},t.ptmi("root")),[(it(!0),st(ci,null,ui(t.options,function(s,u){return pa((it(),st("div",pn({key:a.getOptionRenderKey(s),tabindex:a.findTabindex(s,u),"aria-label":a.getOptionLabel(s),role:t.multiple?"checkbox":"radio","aria-checked":a.isSelected(s),"aria-disabled":a.isOptionDisabled(s),class:t.cx("button",{option:s}),onClick:function(l){return a.onOptionSelect(l,s,u)},onKeydown:function(l){return a.onKeydown(l,s,u)},onFocus:e[0]||(e[0]=function(c){return a.onFocus(c)}),onBlur:function(l){return a.onBlur(l,s)}},a.getPTOptions(s,"button"),{"data-p-highlight":a.isSelected(s),"data-p-disabled":a.isOptionDisabled(s)}),[ga(t.$slots,"option",{option:s,index:u,class:Sn(t.cx("label"))},function(){return[N("span",pn({class:t.cx("label")},a.getPTOptions(s,"label")),dt(a.getOptionLabel(s)),17)]})],16,K0)),[[o]])}),128))],16,X0)}la.render=Z0;const G0={class:"dashboard-container"},Q0={class:"dashboard-content"},J0={class:"quick-actions mb-4"},j0={class:"flex flex-wrap gap-2"},td={class:"grid mb-3 justify-content-center"},ed={class:"col-12 md:col-6 lg:col-5"},nd={class:"col-12 md:col-6 lg:col-7"},rd={class:"d3-mosaic-container mb-4"},id={class:"mosaic-grid"},ad={class:"mosaic-tile mosaic-tile-wide"},od={class:"flex align-items-center justify-content-between"},sd={class:"mosaic-tile"},cd={class:"mosaic-tile mosaic-tile-tags"},ud={class:"tag-cloud-wrapper"},ld={class:"mosaic-tile mosaic-tile-calendar"},fd={class:"flex align-items-center justify-content-between"},dd={class:"text-sm text-500"},hd={class:"calendar-wrapper-compact"},pd={class:"grid"},gd={class:"col-12"},md={class:"flex align-items-center justify-content-between"},yd={__name:"Dashboard",setup(t){const e=ma(),n=ba(),r=lt(null),i=lt(null),a=lt(null),o=lt(null),s=lt("7d"),u=lt(new Date().getFullYear()),c=et(()=>{const D=window.innerWidth;return D<768?200:D<1400?250:300}),l=[{label:"7 Days",value:"7d"},{label:"30 Days",value:"30d"},{label:"90 Days",value:"90d"}],f=et(()=>n.items.length),d=et(()=>n.items.filter(D=>D.status==="Active").length),h=et(()=>n.items.reduce((D,S)=>D+(S.votes||0),0)),p=et(()=>f.value===0?0:(h.value/f.value).toFixed(1)),v=et(()=>f.value===0?0:Math.round(d.value/f.value*100)),A=et(()=>n.items.length===0?null:n.items.reduce((D,S)=>(S.votes||0)>((D==null?void 0:D.votes)||0)?S:D,n.items[0])),C=et(()=>{var D;return((D=A.value)==null?void 0:D.title)||"N/A"}),g=et(()=>{var D;return((D=A.value)==null?void 0:D.votes)||0}),m=et(()=>{const D={};return n.items.forEach(S=>{D[S.status]=(D[S.status]||0)+1}),D}),b=et(()=>{const D=n.items.reduce((S,H)=>{const X=H.category||"Other";return S[X]=(S[X]||0)+1,S},{});return Object.entries(D).map(([S,H])=>({category:S,count:H}))}),T=et(()=>{const D={};return n.items.forEach(S=>{S.tags&&Array.isArray(S.tags)&&S.tags.forEach(H=>{D[H]=(D[H]||0)+1})}),Object.entries(D).map(([S,H])=>({text:S,count:H})).sort((S,H)=>H.count-S.count).slice(0,30)}),w=et(()=>Math.floor(Math.random()*20+5)),E=et(()=>{const D=new Map,S=new Date,H=new Date(u.value,0,1),X=new Date(u.value,11,31);return n.items.forEach(O=>{if(O.createdAt){const R=new Date(O.createdAt);if(R>=H&&R<=X&&R<=S){const W=R.getUTCFullYear(),J=String(R.getUTCMonth()+1).padStart(2,"0"),kt=String(R.getUTCDate()).padStart(2,"0"),bt=`${W}-${J}-${kt}`,vt=D.get(bt)||0;D.set(bt,vt+1)}}}),Array.from(D,([O,R])=>({date:O,count:R}))}),I=()=>{const D=JSON.stringify(n.items,null,2),S="data:application/json;charset=utf-8,"+encodeURIComponent(D),H=`ideas-export-${new Date().toISOString().split("T")[0]}.json`,X=document.createElement("a");X.setAttribute("href",S),X.setAttribute("download",H),X.click()},F=async()=>{await n.refresh()},M=async()=>{console.log("Resetting data to seed..."),va(),await n.refresh(),console.log("Data reset complete. Items:",n.items.length,"items")},y=D=>{e.push({path:"/ideas",query:{tag:D.text}})},U=D=>{e.push({path:"/ideas",query:{category:D.category}})},_=D=>{e.push({path:"/ideas",query:{date:D.dateStr}})},k=D=>{e.push({path:"/ideas",query:{status:D}})},z=()=>{Ye(()=>{var D,S,H,X;(D=r.value)!=null&&D.redraw&&r.value.redraw(),(S=i.value)!=null&&S.redraw&&i.value.redraw(),(H=a.value)!=null&&H.redraw&&a.value.redraw(),(X=o.value)!=null&&X.redraw&&o.value.redraw()})};let q=null;const Z=()=>{q&&clearTimeout(q),q=setTimeout(()=>{z()},250)};return li(async()=>{console.log("Dashboard mounted, loading data..."),await n.refresh(),console.log("Loaded",n.items.length,"ideas"),window.addEventListener("resize",Z),Ye(()=>{z()})}),fi(()=>{window.removeEventListener("resize",Z),q&&clearTimeout(q)}),(D,S)=>(it(),st("div",G0,[N("div",Q0,[N("div",J0,[N("div",j0,[G(tt(Gt),{label:"Submit New Idea",icon:"pi pi-plus",class:"p-button-primary",onClick:S[0]||(S[0]=H=>tt(e).push("/submit"))}),G(tt(Gt),{label:"View All Ideas",icon:"pi pi-list",class:"p-button-secondary",onClick:S[1]||(S[1]=H=>tt(e).push("/ideas"))}),G(tt(Gt),{label:"Export Data",icon:"pi pi-download",class:"p-button-info",onClick:I}),G(tt(Gt),{label:"Refresh",icon:"pi pi-refresh",class:"p-button-outlined",loading:tt(n).loading,onClick:F},null,8,["loading"]),G(tt(Gt),{label:"Reset Data",icon:"pi pi-replay",class:"p-button-warning p-button-outlined",onClick:M})])]),N("div",td,[N("div",ed,[G(Ua,{"total-ideas":f.value,"status-distribution":m.value,"weekly-growth":w.value,onStatusClick:k},null,8,["total-ideas","status-distribution","weekly-growth"])]),N("div",nd,[G(qa,{"total-votes":h.value,"avg-votes":p.value,"top-voted-votes":g.value,"top-voted-title":C.value,"active-percentage":v.value,"active-ideas":d.value},null,8,["total-votes","avg-votes","top-voted-votes","top-voted-title","active-percentage","active-ideas"])])]),N("div",rd,[N("div",id,[N("div",ad,[G(tt(Jt),{class:"h-full"},{title:pt(()=>[N("div",od,[S[4]||(S[4]=N("span",null,"Ideas Trend",-1)),G(tt(la),{modelValue:s.value,"onUpdate:modelValue":S[2]||(S[2]=H=>s.value=H),options:l,"option-label":"label","option-value":"value",class:"text-sm"},null,8,["modelValue"])])]),content:pt(()=>[G(s0,{ref_key:"trendChartRef",ref:r,"time-range":s.value,height:c.value},null,8,["time-range","height"])]),_:1})]),N("div",sd,[G(tt(Jt),{class:"h-full"},{title:pt(()=>[...S[5]||(S[5]=[ya(" Category Distribution ",-1)])]),content:pt(()=>[G(u0,{ref_key:"categoryChartRef",ref:i,data:b.value,height:c.value,onCategoryClick:U},null,8,["data","height"])]),_:1})]),N("div",cd,[G(tt(Jt),{class:"h-full"},{title:pt(()=>[...S[6]||(S[6]=[N("div",{class:"flex flex-column sm:flex-row align-items-start sm:align-items-center justify-content-between gap-2"},[N("span",null,"Popular Tags"),N("span",{class:"text-sm text-500"},"Click a tag to filter ideas")],-1)])]),content:pt(()=>[N("div",ud,[G(R0,{ref_key:"tagCloudRef",ref:a,tags:T.value,height:c.value,onTagClick:y},null,8,["tags","height"])])]),_:1})]),N("div",ld,[G(tt(Jt),{class:"compact-card calendar-card"},{title:pt(()=>[N("div",fd,[S[7]||(S[7]=N("span",null,"Daily Idea Activity",-1)),N("span",dd,dt(u.value),1)])]),content:pt(()=>[N("div",hd,[G(z0,{ref_key:"calendarHeatmapRef",ref:o,data:E.value,year:u.value,"color-scheme":"greens","cell-size":11,"show-day-labels":!0,onDateClick:_},null,8,["data","year"])])]),_:1})])])]),N("div",pd,[N("div",gd,[G(tt(Jt),null,{title:pt(()=>[N("div",md,[S[8]||(S[8]=N("span",null,"Recent Ideas",-1)),G(tt(Gt),{label:"View All",icon:"pi pi-arrow-right",class:"p-button-text p-button-sm",onClick:S[3]||(S[3]=H=>tt(e).push("/ideas"))})])]),content:pt(()=>[G(xa,{limit:5})]),_:1})])])])]))}},kd=Xt(yd,[["__scopeId","data-v-320b9fd1"]]);export{kd as default};
